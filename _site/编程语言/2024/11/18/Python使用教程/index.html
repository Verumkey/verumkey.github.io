<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <link rel="stylesheet" href="/assets/css/style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Python 使用教程</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/post.css">
    <link rel="icon" href="/images/icon/favicon.ico" type="image/x-icon"> 
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet"> 
    <script src="/assets/javascript/post.js" defer></script>
</head>
<body>

    <header class="header">
    <button class="toc-toggle-btn" onclick="toggleSidebar()">
        <i class="fa fa-bars"></i>
    </button>
  
     <a href="https://verumkey.com" target="_self" class="home-link">Home</a>
</header>

<div id="toc" class="toc-sidebar"></div>
<div id="toc-overlay"></div>


    <div class="container">
        <div class="content">
            <h1 id="简介">简介</h1>
<p>本文主要内容：<br />
1.介绍Python的概念<br />
2.演示配置常用的两者Python环境<br />
一种是VS Code<br />
一种是PyCharm(<del>提供一种专业版激活方式</del>)<br />
3.介绍Python的部分语法<br />
4.演示一些Python项目的实现<br />
5.在Python项目演示中使用VS Code编写Python程序<br />
Python官网：<a href="https://www.python.org/">https://www.python.org/</a></p>

<hr />

<h1 id="一python的概述">一.Python的概述</h1>
<p>Python 是一种广泛使用的高级编程语言，因其简洁、易读和高效而受到开发者的喜爱。Python 由 <strong>Guido van Rossum</strong> 于 1980 年代末期设计，并在 1991 年首次发布。它是一种解释型语言，支持多种编程范式，包括面向对象编程、命令式编程、函数式编程和程序化编程。</p>

<h2 id="1python的主要特点">1.Python的主要特点</h2>

<ol>
  <li>
    <p><strong>简洁易学</strong>：</p>

    <ul>
      <li>Python 的语法非常简洁，接近自然语言，因此适合初学者学习。它有明确的缩进规则，避免了使用大量的括号或花括号来分隔代码块。</li>
    </ul>
  </li>
  <li>
    <p><strong>跨平台支持</strong>：</p>

    <ul>
      <li>Python 可以运行在多种操作系统上，包括 Windows、Linux、macOS 等。只要安装了 Python 解释器，几乎所有平台都能运行 Python 程序。</li>
    </ul>
  </li>
  <li>
    <p><strong>解释型语言</strong>：</p>

    <ul>
      <li>Python 是一种解释型语言，意味着代码在运行时逐行解释执行，不需要编译步骤。这样可以加速开发流程，并且方便调试和交互式操作。</li>
    </ul>
  </li>
  <li>
    <p><strong>动态类型</strong>：</p>

    <ul>
      <li>Python 是动态类型语言，在程序运行时确定数据类型，不需要提前声明变量的类型。这使得 Python 更加灵活，但也可能导致一些运行时错误。</li>
    </ul>
  </li>
  <li>
    <p><strong>广泛的标准库和第三方库</strong>：</p>

    <ul>
      <li>Python 提供了大量的标准库，涵盖了从文件操作、网络通信到数据库交互等各种功能。此外，还有丰富的第三方库和框架，像 NumPy（科学计算）、Pandas（数据分析）、Flask 和 Django（Web 开发）等，这些库扩展了 Python 的应用范围。</li>
    </ul>
  </li>
  <li>
    <p><strong>面向对象</strong>：</p>

    <ul>
      <li>Python 支持面向对象编程（OOP），允许创建类和对象，支持继承、多态、封装等 OOP 特性。尽管如此，Python 也支持其他编程范式，因此在 Python 中，你可以使用面向过程的方式进行开发。</li>
    </ul>
  </li>
  <li>
    <p><strong>社区支持</strong>：</p>

    <ul>
      <li>Python 拥有一个活跃的开发者社区，提供了大量的教程、论坛、开源项目和文档支持。这使得学习和解决问题变得更加容易。</li>
    </ul>
  </li>
  <li>
    <p><strong>适用于多种应用领域</strong>：</p>

    <ul>
      <li>Python 在多种领域有广泛的应用，包括但不限于：
        <ul>
          <li><strong>Web 开发</strong>（Flask, Django）</li>
          <li><strong>数据科学与机器学习</strong>（NumPy, Pandas, TensorFlow, Scikit-Learn）</li>
          <li><strong>自动化脚本</strong>（文件操作、网络请求等）</li>
          <li><strong>软件开发</strong>（桌面应用、游戏开发等）</li>
          <li><strong>系统管理与运维</strong></li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="2python的优势">2.Python的优势</h2>

<ul>
  <li><strong>易于学习和使用</strong>：Python 以其简单的语法和明确的结构而闻名，非常适合编程初学者。</li>
  <li><strong>开发效率高</strong>：Python 的高级语法和丰富的库使得开发者能够快速开发功能强大的应用程序。</li>
  <li><strong>丰富的社区资源</strong>：Python 拥有一个非常活跃的开发社区，开发者可以轻松获取大量的文档、教程和开源项目。</li>
  <li><strong>广泛的应用场景</strong>：从Web开发到科学计算，Python 适用于几乎所有类型的应用开发。</li>
</ul>

<hr />

<h2 id="3python的缺点">3.Python的缺点</h2>

<ul>
  <li><strong>运行速度相对较慢</strong>：作为解释型语言，Python 的执行速度比编译型语言（如 C++ 或 Java）要慢。这对于一些对性能要求极高的应用（如游戏开发、嵌入式系统）可能是一个限制。</li>
  <li><strong>GIL（全局解释器锁）</strong>：由于 Python 的 GIL 特性，多线程编程时只能同时运行一个线程，这在处理 CPU 密集型任务时可能会影响性能。</li>
</ul>

<hr />

<h2 id="4python主要应用领域">4.Python主要应用领域</h2>

<ol>
  <li>
    <p><strong>Web 开发</strong>：</p>

    <ul>
      <li>Python 拥有强大的 Web 开发框架，如 Django 和 Flask，它们让 Web 开发更加简洁高效。Python 可以用于构建网站、Web 应用以及 API 服务。</li>
    </ul>
  </li>
  <li>
    <p><strong>数据分析与数据科学</strong>：</p>

    <ul>
      <li>Python 是数据科学领域的首选语言之一。它通过库如 <strong>NumPy</strong>、<strong>Pandas</strong>、<strong>Matplotlib</strong> 等提供强大的数据处理和分析功能。同时，Python 在机器学习和人工智能领域也有着广泛的应用，库如 <strong>TensorFlow</strong>、<strong>Keras</strong>、<strong>Scikit-learn</strong> 提供了易于使用的接口。</li>
    </ul>
  </li>
  <li>
    <p><strong>自动化脚本和任务调度</strong>：</p>

    <ul>
      <li>Python 常用于编写自动化脚本，帮助开发者处理日常任务，如文件处理、自动化测试、Web 数据抓取等。</li>
    </ul>
  </li>
  <li>
    <p><strong>人工智能与机器学习</strong>：</p>

    <ul>
      <li>由于其简洁的语法和强大的第三方库，Python 已成为机器学习、深度学习和人工智能的主要编程语言之一。</li>
    </ul>
  </li>
  <li>
    <p><strong>科学计算与数值分析</strong>：</p>

    <ul>
      <li>Python 提供了大量的数学和科学计算库，如 <strong>SciPy</strong>、<strong>SymPy</strong> 和 <strong>Matplotlib</strong>，非常适合用于物理学、工程学等领域的研究。</li>
    </ul>
  </li>
  <li>
    <p><strong>桌面应用开发</strong>：</p>

    <ul>
      <li>虽然 Python 不是开发高性能桌面应用的首选，但它依然可以用于开发桌面应用程序。框架如 <strong>Tkinter</strong>、<strong>PyQt</strong> 和 <strong>Kivy</strong> 可以帮助开发跨平台的桌面应用。</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="5总结">5.总结</h2>

<p>Python 是一种非常灵活和强大的编程语言，凭借其简洁的语法和丰富的库，已成为各个领域（如 Web 开发、数据科学、自动化等）的首选语言。无论是初学者还是经验丰富的开发者，Python 都是一个很好的编程选择。</p>

<hr />

<h1 id="二python解释器">二.Python解释器</h1>

<hr />

<h2 id="1python-解释器的作用">1.Python 解释器的作用</h2>

<ol>
  <li>
    <p><strong>执行 Python 代码</strong>：</p>

    <ul>
      <li>解释器将 Python 程序的源代码转换为机器能够理解的指令，并逐行执行。与编译型语言（如 C 或 C++）不同，解释型语言直接逐行解释和执行代码，而不是先将整个程序编译成可执行文件。</li>
    </ul>
  </li>
  <li>
    <p><strong>语法检查和错误报告</strong>：</p>

    <ul>
      <li>解释器在执行代码时，会检查代码的语法错误。如果 Python 程序有语法错误，解释器会在执行过程中抛出错误并提供错误信息，帮助开发者修正代码。</li>
    </ul>
  </li>
  <li>
    <p><strong>内存管理</strong>：</p>

    <ul>
      <li>Python 解释器负责管理内存。它会自动为对象分配内存，并使用垃圾回收机制来清理不再使用的内存空间，从而减少内存泄漏的可能。</li>
    </ul>
  </li>
  <li>
    <p><strong>提供交互式环境</strong>：</p>

    <ul>
      <li>Python 解释器可以提供一个交互式的命令行环境（也叫 REPL 环境：Read-Eval-Print Loop），允许开发者直接输入代码并立即看到结果。这对于快速测试、调试和学习 Python 很有帮助。</li>
    </ul>
  </li>
  <li>
    <p><strong>跨平台支持</strong>：</p>

    <ul>
      <li>Python 解释器使得 Python 程序能够在不同的平台（如 Windows、macOS 和 Linux）上运行，而不需要做太多的修改。开发者只需要安装对应操作系统的 Python 解释器。</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="2下载python解释器">2.下载python解释器</h2>
<p>官网：<a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a><br />
从Python官网下载的 Python 解释器通常是 <strong>CPython</strong>，即 Python 的官方实现。CPython 是最常用和最流行的 Python 解释器，它由 C 语言编写，并且是 Python 官方推荐的版本。<br />
<strong>1.下载并打开安装包</strong>
<img src="/images/vscode-images/vscode.22.png" alt="" />
<img src="/images/Python-images/python.1.png" alt="" /><strong>2.勾选下面两个选项</strong>,至少第二个要勾选<br />
<strong>3.然后选择Customize installation(自定义安装)</strong><br />
<strong>注释：</strong><br />
<strong>Install Now</strong>就是默认安装到当前用户下<br />
<strong>Customize installation</strong>可以自定义安装路径和一些选项<br />
<strong>第一个选项是使用管理员权限安装 py.exe</strong>(python启动器,用于在 Windows 上更方便地管理和运行不同版本的 Python),会将它安装到系统目录(C:\Windows),否则安装到当前用户目录下<br />
<strong>第二个选项是把解释器添加到系统路径</strong>，能够使得你在任何命令行窗口中直接运行python命令,而不需要指定 Python 的完整安装路径<br />
<strong>4.这是默认的配置，不用修改，点击Next</strong>
<img src="/images/Python-images/python.2.png" alt="" />
<strong>5.这里可以选择安装到所有用户，这时安装路径就会变成一个公共文件夹</strong>
<img src="/images/Python-images/python.3.png" alt="" />
<strong>6.安装</strong>
<img src="/images/Python-images/python.4.png" alt="" /></p>

<hr />

<h1 id="三配置python环境vs-code">三.配置Python环境(VS Code)</h1>

<hr />

<h2 id="1下载vs-code">1.下载VS Code</h2>
<p>网址：<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a>
<img src="/images/vscode-images/vscode.1.png" alt="" /></p>

<hr />

<h2 id="2配置中文环境">2.配置中文环境</h2>
<p><strong>1.打开扩展</strong>
<img src="/images/vscode-images/vscode.2.png" alt="" />
<strong>2.在搜索栏中搜索Chinese<br />
3.选择简体中文安装<br />
4.重启</strong>
<img src="/images/vscode-images/vscode.3.png" alt="" /></p>

<hr />

<h2 id="3安装插件">3.安装插件</h2>
<h3 id="31python-插件">3.1.python 插件</h3>
<p><img src="/images/vscode-images/vscode.24.png" alt="" />
<strong>主要功能:</strong></p>
<ul>
  <li><strong>代码智能提示</strong>：提供 Python 代码的自动补全、函数参数提示、变量/函数定义跳转等功能。</li>
  <li><strong>调试支持</strong>：集成调试器，可以直接在 VS Code 中进行 Python 代码的调试，设置断点、变量监视和调用堆栈查看等。</li>
  <li><strong>代码检查</strong>：支持代码静态分析工具，如 Pylint 和 Flake8，帮助你发现代码中的潜在错误和格式问题。</li>
  <li><strong>虚拟环境和 Conda 支持</strong>：可以轻松选择和管理不同的 Python 解释器、虚拟环境或 Conda 环境。</li>
  <li><strong>Jupyter 支持</strong>：可以在 VS Code 中直接运行 Jupyter Notebooks，进行交互式的 Python 开发，特别适合数据科学工作流。</li>
  <li><strong>测试集成</strong>：支持常用的测试框架（如 unittest、pytest），便于运行和调试测试用例。
这个插件是 Python 开发者在 VS Code 中工作的基础工具，帮助进行代码编写、调试、测试和管理开发环境。</li>
</ul>

<hr />

<h3 id="32python-extension-pack-插件">3.2.Python Extension Pack 插件</h3>
<p><img src="/images/vscode-images/vscode.26.png" alt="" />
<strong>主要功能:</strong><br />
<strong>Python Extension Pack</strong> 是为 Visual Studio Code 的 Python 开发者设计的一组插件包，包含了多个非常有用的扩展，主要包括：</p>
<ol>
  <li><strong>Python</strong> - 提供核心功能，如代码检查（linting）、调试（包括多线程和远程调试）、智能感知（IntelliSense）、代码格式化、重构、单元测试，以及用于数据科学任务的 Jupyter Notebook 支持。</li>
  <li><strong>Jinja</strong> - 提供 Jinja 模板语言的语法高亮和代码片段。</li>
  <li><strong>Django</strong> - 为 Django Web 开发添加了特定的语法和代码片段。</li>
  <li><strong>IntelliCode</strong> - 基于机器学习的 AI 辅助工具，帮助提供智能代码补全和建议。</li>
  <li><strong>Python Environment Manager</strong> - 帮助你在 VS Code 中查看和管理 Python 环境及其依赖包。</li>
  <li><strong>Python Docstring Generator</strong> - 辅助自动生成 Python 函数和类的文档注释。</li>
  <li><strong>Python Indent</strong> - 自动纠正 Python 代码的缩进。</li>
</ol>

<hr />

<h2 id="4编写python程序">4.编写Python程序</h2>

<p><strong>1.创建一个文件</strong>
<img src="/images/vscode-images/vscode.15.png" alt="" />
<strong>2.通过VScode打开你上面创建的文件</strong>
<img src="/images/vscode-images/vscode.16.png" alt="" />
<strong>3.新建文件，后缀需为.py</strong>
<img src="/images/vscode-images/vscode.17.png" alt="" />
<strong>4.编写代码并运行,可以在终端看到输出结果</strong>
<img src="/images/vscode-images/vscode.25.png" alt="" /></p>

<hr />

<h1 id="四配置python环境pycharm">四.配置Python环境(PyCharm)</h1>

<hr />

<p><strong>可以选择下载免费的社区版，仅用于学习是绰绰有余</strong><br />
<strong>当然也可使用专业版，可以购买正版获得许可证</strong>，也能通过其他方式低成本获得激活(<del>网上购买激活码或让商家激活账号</del>，当然这些是不正规的)，<strong>接下来会演示一位大神提出的激活方式，仅为交流学习，并不提倡使用盗版</strong><br />
<strong>如果你选择使用社区版，就在下载时选择社区版，并跳过激活专业版的教程</strong><br />
<del>理论上该方法可以激活Jetbrains全家桶的每个软件</del></p>
<h2 id="1pycharm专业版与社区版的区别">1.PyCharm专业版与社区版的区别</h2>
<p><strong>PyCharm</strong> 是由 JetBrains 开发的一款广受欢迎的 Python 集成开发环境（IDE）。它有两个版本：<strong>专业版（Professional）</strong> 和 <strong>社区版（Community）</strong>。这两个版本在功能上有所不同，下面是它们的主要区别：</p>

<h3 id="11-价格">1.1. 价格</h3>

<ul>
  <li><strong>社区版（Community）</strong>：免费，开源。适合个人开发者、学习者或者对功能需求较少的用户。</li>
  <li><strong>专业版（Professional）</strong>：收费版本，需要购买许可证。它提供了更多的高级功能，适用于企业用户、专业开发者和需要高级功能的团队。</li>
</ul>

<h3 id="12-支持的开发环境">1.2. 支持的开发环境</h3>

<ul>
  <li>
    <p><strong>社区版</strong>：</p>

    <ul>
      <li>主要支持 Python 开发。</li>
      <li>支持基本的编辑、调试和版本控制。</li>
      <li>提供 Python 项目的基本功能，如代码补全、语法高亮、代码导航、调试等。</li>
    </ul>
  </li>
  <li>
    <p><strong>专业版</strong>：</p>

    <ul>
      <li><strong>完整的 Python 开发支持</strong>，包括 Flask、Django 等框架的支持。</li>
      <li>支持<strong>Web 开发</strong>（HTML、CSS、JavaScript 和前端开发的功能）。</li>
      <li>提供<strong>数据库工具</strong>，可以与数据库进行交互，如连接、查询和编辑数据库。</li>
      <li>支持<strong>科学计算和数据分析</strong>，包括与 Jupyter Notebooks 的集成。</li>
      <li>支持 <strong>Docker</strong> 和 <strong>远程开发</strong>，适合容器化开发和使用远程开发环境。</li>
    </ul>
  </li>
</ul>

<h3 id="13-web-开发支持">1.3. Web 开发支持</h3>

<ul>
  <li><strong>社区版</strong>：不支持 Web 开发框架。</li>
  <li><strong>专业版</strong>：支持 Web 开发框架，如 <strong>Django</strong>、<strong>Flask</strong>、<strong>Pyramid</strong> 等，且包含 Web 调试、模板编辑、前端开发等功能。</li>
</ul>

<h3 id="14-数据库支持">1.4. 数据库支持</h3>

<ul>
  <li><strong>社区版</strong>：没有内置数据库支持。</li>
  <li><strong>专业版</strong>：提供强大的数据库工具，允许你连接、编辑和查询关系型数据库（如 MySQL、PostgreSQL、SQLite、Oracle 等），并且能够在 IDE 内部直接执行 SQL 查询。</li>
</ul>

<h3 id="15-科学计算与数据科学支持">1.5. 科学计算与数据科学支持</h3>

<ul>
  <li><strong>社区版</strong>：不支持数据科学的相关功能。</li>
  <li><strong>专业版</strong>：提供对数据科学、科学计算的支持，包括对 <strong>Jupyter Notebooks</strong>、<strong>Pandas</strong>、<strong>NumPy</strong> 等库的集成，方便数据科学家和研究人员使用。</li>
</ul>

<h3 id="16-远程开发和部署">1.6. 远程开发和部署</h3>

<ul>
  <li><strong>社区版</strong>：不支持远程开发和容器化部署。</li>
  <li><strong>专业版</strong>：支持远程开发、部署和调试，支持使用 <strong>Docker</strong>、<strong>Vagrant</strong>、<strong>SSH</strong> 等技术进行远程开发，适用于在云服务器或虚拟机上进行开发。</li>
</ul>

<h3 id="17-支持的框架">1.7. 支持的框架</h3>

<ul>
  <li><strong>社区版</strong>：支持基本的 Python 语言开发。</li>
  <li><strong>专业版</strong>：支持更多的开发框架和技术栈，包括：
    <ul>
      <li><strong>Web 框架</strong>：如 Django、Flask、Pyramid。</li>
      <li><strong>数据科学工具</strong>：如 Jupyter、Matplotlib、Pandas 等。</li>
      <li><strong>更多的数据库支持</strong>：包括关系型数据库的查询和管理工具。</li>
    </ul>
  </li>
</ul>

<h3 id="18-编辑器与调试工具">1.8. 编辑器与调试工具</h3>

<ul>
  <li><strong>社区版</strong>：提供基本的代码编辑、调试、版本控制支持。</li>
  <li><strong>专业版</strong>：提供更为强大的调试工具，包括对 <strong>多线程调试</strong>、<strong>Web 应用调试</strong>、<strong>数据库调试</strong>等的支持。</li>
</ul>

<h3 id="19-集成工具">1.9. 集成工具</h3>

<ul>
  <li><strong>社区版</strong>：集成 Git 和 GitHub，支持基础的版本控制。</li>
  <li><strong>专业版</strong>：集成了更多的版本控制系统，如 Git、Mercurial、Subversion（SVN），并且支持更多的工具集成（例如 Docker 和 Kubernetes 等）。</li>
</ul>

<h3 id="110总结">1.10.总结</h3>

<ul>
  <li><strong>社区版</strong>适合学习、基础的 Python 开发、简单的项目和个人开发者。它涵盖了 Python 开发的基础功能，且免费。</li>
  <li><strong>专业版</strong>适合需要更强大功能的专业开发者和团队，特别是涉及 Web 开发、数据科学、数据库和远程开发等领域。它提供了更全面的功能，但需要付费。</li>
</ul>

<p>如果你只是学习 Python 或者进行简单的项目开发，<strong>社区版</strong>完全足够。而如果你从事 Web 开发、数据科学或复杂的企业级开发，或者需要与数据库进行交互，<strong>专业版</strong>将为你提供更多的工具和支持。</p>

<hr />

<h2 id="2下载pycharm">2.下载PyCharm</h2>
<p>官网：<a href="https://www.jetbrains.com/zh-cn/pycharm/">https://www.jetbrains.com/zh-cn/pycharm/</a><br />
<strong>1.点击下载</strong>
<img src="/images/Python-images/python.5.png" alt="" />
<strong>这个是专业版，需要付费</strong>
<img src="/images/Python-images/python.6.png" alt="" />
<strong>下滑可以看到免费的社区版</strong>
<img src="/images/Python-images/python.7.png" alt="" />
<strong>1.选择下载哪个版本，下载后打开安装包(这里是专业版)</strong>
<img src="/images/Python-images/python.8.png" alt="" />
<strong>2.可以自定义安装路径</strong>
<img src="/images/Python-images/python.9.png" alt="" />
<strong>3.推荐将这四个都勾选</strong>
<img src="/images/Python-images/python.10.png" alt="" />
<strong>4.可选择将快捷方式安装在哪，然后安装</strong>
<img src="/images/Python-images/python.11.png" alt="" /></p>

<hr />

<h2 id="3激活专业版">3.激活专业版</h2>
<p>如果选择使用社区版，可以跳过<br />
关于激活原理，仅给出自己的理解作为参考：<br />
这个过程通过修改 PyCharm 的启动参数，使用 Java 代理（<code class="language-plaintext highlighter-rouge">ja-netfilter.jar</code>）绕过激活检查，同时提供了一种手动或自动配置方式来完成激活。通过使用指定的激活密钥和更改 Java 环境的访问权限，这种方法可以让用户在没有正式许可证的情况下继续使用软件。<br />
<strong>1.进入网址：</strong><a href="https://3.jetbra.in/">https://3.jetbra.in/</a><br />
<strong>2.随便选择一个可用的网站进入</strong>
<img src="/images/Python-images/python.12.png" alt="" />
<strong>3.下载这个文件并解压缩</strong>
<img src="/images/Python-images/python.13.png" alt="" />
<strong>4.打开解压后的文件</strong>
<img src="/images/Python-images/python.14.png" alt="" />
<strong>5.关于如何激活，我们可以看看作者给出的方法，打开readme.txt</strong>
<img src="/images/Python-images/python.15.png" alt="" />
这里激活的核心是绕过软件的许可证验证<br />
作者给出了一个自动完成配置的脚本<br />
<img src="/images/Python-images/python.16.png" alt="" />
<strong>6.打开scripts(脚本)</strong>
<img src="/images/Python-images/python.17.png" alt="" />
<strong>7.运行安装到所有用户的脚本</strong>，安装到当前用户的脚本也可以<br />
<strong>注释：</strong><br />
<strong>VMOptions 文件</strong>（通常称为 <strong><code class="language-plaintext highlighter-rouge">vmoptions</code></strong> 文件）是一个配置文件，它包含用于定制和配置 <strong>JVM</strong>（Java 虚拟机）运行时行为的启动参数。它允许用户调整 JVM 的内存使用、性能优化、调试设置、代理配置等。</p>

<p>JetBrains 产品（如 <strong>PyCharm</strong>）是基于 Java 的，因此它们也使用 JVM。通过编辑 <code class="language-plaintext highlighter-rouge">vmoptions</code> 文件，用户可以修改这些参数来优化应用程序的运行，例如设置内存大小、启用代理等。</p>

<p>该脚本通过修改 JetBrains 产品（如 PyCharm、IntelliJ IDEA 等）的 <code class="language-plaintext highlighter-rouge">vmoptions</code> 文件，注入 <code class="language-plaintext highlighter-rouge">ja-netfilter.jar</code> Java 代理，通常用于绕过授权验证或进行其他定制操作。它首先确保以管理员权限运行，删除旧的配置，然后将新的代理配置应用到目标产品的环境变量中，最终在启动时加载代理文件。
<img src="/images/Python-images/python.18.png" alt="" />
<img src="/images/Python-images/python.19.png" alt="" />
<strong>8.等待完成</strong>
<img src="/images/Python-images/python.20.png" alt="" />
<strong>9.回到之前的网站，找到PyCharm，复制激活码</strong>
<img src="/images/Python-images/python.21.png" alt="" />
<strong>10.运行安装好的PyCharm</strong><br />
<strong>11.激活许可证的三个选项中选择激活码，然后将激活码粘贴进去，点击激活</strong>
<img src="/images/Python-images/python.22.png" alt="" />
<strong>12.可以看到激活完成</strong><br />
<strong>可以看到有效期是到2026年9月14日，根据作者的说法，到了有效期后仍可一直使用</strong><br />
<strong>到时若不能继续使用，我再回来更新其它方法</strong>
<img src="/images/Python-images/python.23.png" alt="" /></p>

<hr />

<h2 id="4编写python程序-1">4.编写python程序</h2>
<p>在Customize(定制)中可将语言设置为中文
<img src="/images/Python-images/python.24.png" alt="" />
<img src="/images/Python-images/python.25.png" alt="" />
<img src="/images/Python-images/python.26.png" alt="" /></p>

<hr />

<h1 id="五python的语法简述">五.Python的语法简述</h1>

<hr />

<p>这里有许多python书籍的电子版:<a href="https://github.com/square1979/Some_Books">https://github.com/square1979/Some_Books</a><br />
Python 的语法结构是简洁和易读的。以下是 Python 中常见的语法元素和规则的详细概述：</p>
<h2 id="1-注释">1. 注释</h2>

<ul>
  <li>单行注释：使用 <code class="language-plaintext highlighter-rouge">#</code> 进行注释。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 这是一个注释
</span></code></pre></div></div>

<ul>
  <li>多行注释：使用三引号（<code class="language-plaintext highlighter-rouge">'''</code> 或 <code class="language-plaintext highlighter-rouge">"""</code>）进行注释。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="sh">'''</span><span class="s">这是多行注释</span><span class="sh">'''</span>
<span class="sh">"""</span><span class="s">
这也是多行注释
</span><span class="sh">"""</span>
</code></pre></div></div>

<hr />

<h2 id="2-变量和数据类型">2. 变量和数据类型</h2>
<ul>
  <li>变量是可以被赋值的标签，也可以说变量指向特定的值</li>
  <li>变量赋值：Python 是动态类型语言，变量不需要显式声明类型。</li>
  <li>⽤引号引起的都是字符 串，其中的引号可以是单引号，也可以是双引号</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># 整数 
</span><span class="n">y</span> <span class="o">=</span> <span class="mf">3.14</span>  <span class="c1"># 浮动数 
</span><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">John</span><span class="sh">"</span>  <span class="c1"># 字符串 
</span><span class="n">is_active</span> <span class="o">=</span> <span class="bp">True</span>  <span class="c1"># 布尔值
</span></code></pre></div></div>

<hr />

<h2 id="3-数据结构">3. 数据结构</h2>

<ul>
  <li><strong>列表（List）</strong>：有序、可变的集合。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</code></pre></div></div>

<ul>
  <li><strong>元组（Tuple）</strong>：有序、不可变的集合。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><strong>字典（Dictionary）</strong>：键值对的无序集合。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">John</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">:</span> <span class="mi">30</span><span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>集合（Set）</strong>：无序、唯一元素的集合。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_set</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="4-控制结构">4. 控制结构</h2>

<ul>
  <li><strong>条件语句（if-elif-else）</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">x是正数</span><span class="sh">"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">x是零</span><span class="sh">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">x是负数</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><strong>循环语句（for 和 while）</strong>：</li>
  <li><code class="language-plaintext highlighter-rouge">for</code> 循环：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">while</code> 循环：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<hr />

<h2 id="5-函数">5. 函数</h2>

<ul>
  <li>定义函数使用 <code class="language-plaintext highlighter-rouge">def</code>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>

</code></pre></div></div>

<ul>
  <li>调用函数：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">))</span>
</code></pre></div></div>

<hr />

<h2 id="6用户输入">6.用户输入</h2>
<ul>
  <li>input() 函数让程序暂停运⾏，等待⽤户输⼊⼀些⽂本</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>message = input("Tell me something, and I will repeat it back to you: ") print(message)
</code></pre></div></div>

<h2 id="7-异常处理">7. 异常处理</h2>

<ul>
  <li>使用 <code class="language-plaintext highlighter-rouge">try-except</code> 语句处理异常：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">不能除以零</span><span class="sh">"</span><span class="p">)</span>

</code></pre></div></div>

<hr />

<h2 id="8-类和对象">8. 类和对象</h2>

<ul>
  <li>定义类：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>

    <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Hello, my name is </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s"> and I am </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">age</span><span class="si">}</span><span class="s"> years old.</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>创建对象：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">person</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">John</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">person</span><span class="p">.</span><span class="nf">greet</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h2 id="9-模块和包">9. 模块和包</h2>

<ul>
  <li>导入模块：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">math</span>
<span class="nf">print</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>  <span class="c1"># 4.0
</span></code></pre></div></div>

<ul>
  <li>从模块中导入特定函数或类：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>  <span class="c1"># 4.0
</span></code></pre></div></div>

<hr />

<h2 id="10-列表推导式">10. 列表推导式</h2>

<ul>
  <li>列表推导式是用于创建新列表的一种简洁方法：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>  <span class="c1"># [0, 1, 4, 9, 16]
</span></code></pre></div></div>

<hr />

<h2 id="11-lambda-表达式">11. Lambda 表达式</h2>

<ul>
  <li>使用 <code class="language-plaintext highlighter-rouge">lambda</code> 定义匿名函数：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">add</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># 5
</span></code></pre></div></div>

<hr />

<h2 id="12-文件操作">12. 文件操作</h2>

<ul>
  <li>读取文件：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">file.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>写入文件：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">file.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello, World!</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="13-列表操作">13. 列表操作</h2>

<ul>
  <li><strong>连接</strong>：使用 <code class="language-plaintext highlighter-rouge">+</code> 连接列表。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">combined</span> <span class="o">=</span> <span class="n">list1</span> <span class="o">+</span> <span class="n">list2</span>
<span class="nf">print</span><span class="p">(</span><span class="n">combined</span><span class="p">)</span>  <span class="c1"># [1, 2, 3, 4]
</span></code></pre></div></div>

<ul>
  <li><strong>重复</strong>：使用 <code class="language-plaintext highlighter-rouge">*</code> 重复列表。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">repeated</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
<span class="nf">print</span><span class="p">(</span><span class="n">repeated</span><span class="p">)</span>  <span class="c1"># [1, 2, 1, 2, 1, 2]
</span></code></pre></div></div>

<hr />

<h2 id="14-迭代器与生成器">14. 迭代器与生成器</h2>

<ul>
  <li>迭代器：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">iter_nums</span> <span class="o">=</span> <span class="nf">iter</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">next</span><span class="p">(</span><span class="n">iter_nums</span><span class="p">))</span>  <span class="c1"># 1
</span><span class="nf">print</span><span class="p">(</span><span class="nf">next</span><span class="p">(</span><span class="n">iter_nums</span><span class="p">))</span>  <span class="c1"># 2
</span></code></pre></div></div>

<ul>
  <li>生成器：使用 <code class="language-plaintext highlighter-rouge">yield</code> 创建生成器。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">count_up_to</span><span class="p">(</span><span class="nb">max</span><span class="p">):</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">count</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<hr />

<h2 id="15-python-特性">15. Python 特性</h2>

<ul>
  <li><strong>动态类型</strong>：Python 在运行时决定变量的类型。</li>
  <li><strong>自动内存管理</strong>：Python 使用垃圾回收机制自动管理内存。</li>
  <li><strong>缩进</strong>：Python 使用缩进来表示代码块，而不是大括号 <code class="language-plaintext highlighter-rouge">{}</code>。</li>
</ul>

<hr />

<h2 id="16-其他常用功能">16. 其他常用功能</h2>

<ul>
  <li><strong>字符串格式化</strong>：Python 3.6 引入了 f-string：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span>
<span class="n">age</span> <span class="o">=</span> <span class="mi">30</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">My name is </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s"> and I am </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="s"> years old.</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><strong>枚举（Enum）</strong>：定义一组常量：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">enum</span> <span class="kn">import</span> <span class="n">Enum</span>

<span class="k">class</span> <span class="nc">Color</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">RED</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">GREEN</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">BLUE</span> <span class="o">=</span> <span class="mi">3</span>
</code></pre></div></div>

<p>这只是 Python 语法的一部分。Python 的语法非常丰富，涵盖了从基础到高级的多种特性和功能。在实际编码中，你会根据需求选择使用不同的语法结构和功能。</p>

<hr />

<h1 id="六python的语法详述">六.Python的语法详述</h1>

<hr />

<h2 id="1变量"><strong>1.变量</strong></h2>
<h3 id="11-定义变量">1.1 定义变量</h3>

<p>变量不需要声明类型，直接赋值即可。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>          <span class="c1"># 整数
</span><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span>  <span class="c1"># 字符串
</span><span class="n">is_valid</span> <span class="o">=</span> <span class="bp">True</span> <span class="c1"># 布尔值
</span></code></pre></div></div>

<h3 id="12-变量命名规则">1.2 变量命名规则</h3>

<ul>
  <li>必须以字母或下划线开头。</li>
  <li>后续可以包含字母、数字和下划线。</li>
  <li>不能使用 Python 的关键字（如 <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">else</code>, <code class="language-plaintext highlighter-rouge">def</code>）。</li>
  <li>区分大小写：<code class="language-plaintext highlighter-rouge">name</code> 和 <code class="language-plaintext highlighter-rouge">Name</code> 是不同的变量。</li>
</ul>

<hr />

<h3 id="13-多变量赋值">1.3 多变量赋值</h3>

<p>可以在一行中赋值多个变量。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="sh">"</span><span class="s">hello</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>  <span class="c1"># 输出: 1 2 hello
</span></code></pre></div></div>

<p>将同一个值赋给多个变量：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>  <span class="c1"># 输出: 0 0 0
</span></code></pre></div></div>

<hr />

<h3 id="14-变量的引用和内存管理">1.4 变量的引用和内存管理</h3>

<p>Python 中的变量是对对象的引用。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>  <span class="c1"># 列表
</span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span>           <span class="c1"># b 指向与 a 相同的列表
</span><span class="n">b</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>        <span class="c1"># 输出: [1, 2, 3, 4]
</span></code></pre></div></div>

<hr />

<h2 id="2-数据类型"><strong>2. 数据类型</strong></h2>

<p>Python 提供多种内置数据类型，主要分为以下几类。</p>

<hr />

<h3 id="21-数值类型">2.1 数值类型</h3>

<p>包括整数（<code class="language-plaintext highlighter-rouge">int</code>）、浮点数（<code class="language-plaintext highlighter-rouge">float</code>）、复数（<code class="language-plaintext highlighter-rouge">complex</code>）。</p>

<h4 id="211-整数操作">2.1.1 整数操作</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># 加法: 13
</span><span class="nf">print</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># 减法: 7
</span><span class="nf">print</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># 乘法: 30
</span><span class="nf">print</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># 除法: 3.333...
</span><span class="nf">print</span><span class="p">(</span><span class="n">x</span> <span class="o">//</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># 整除: 3
</span><span class="nf">print</span><span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># 取余: 1
</span><span class="nf">print</span><span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># 幂: 1000
</span></code></pre></div></div>

<h4 id="212-浮点数操作">2.1.2 浮点数操作</h4>

<p>浮点数支持相同的运算。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="o">=</span> <span class="mf">5.5</span>
<span class="n">b</span> <span class="o">=</span> <span class="mf">2.2</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c1"># 输出: 7.7
</span></code></pre></div></div>

<h4 id="213-复数">2.1.3 复数</h4>

<p>使用 j 表示虚数单位。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">z</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mf">3j</span>
<span class="nf">print</span><span class="p">(</span><span class="n">z</span><span class="p">.</span><span class="n">real</span><span class="p">,</span> <span class="n">z</span><span class="p">.</span><span class="n">imag</span><span class="p">)</span>  <span class="c1"># 输出: 2.0 3.0
</span></code></pre></div></div>

<hr />

<h3 id="22-字符串str">2.2 字符串（str）</h3>

<h4 id="221-字符串操作">2.2.1 字符串操作</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">hello</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>          <span class="c1"># 长度: 5
</span><span class="nf">print</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="nf">upper</span><span class="p">())</span>       <span class="c1"># 转大写: HELLO
</span><span class="nf">print</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="nf">lower</span><span class="p">())</span>       <span class="c1"># 转小写: hello
</span><span class="nf">print</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="nf">capitalize</span><span class="p">())</span>  <span class="c1"># 首字母大写: Hello
</span><span class="nf">print</span><span class="p">(</span><span class="n">s</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>           <span class="c1"># 重复: hellohellohello
</span></code></pre></div></div>

<h4 id="222-字符串切片">2.2.2 字符串切片</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Python</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>       <span class="c1"># 输出: P
</span><span class="nf">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>      <span class="c1"># 输出: n
</span><span class="nf">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>     <span class="c1"># 输出: yth
</span></code></pre></div></div>

<h4 id="223-格式化字符串">2.2.3 格式化字符串</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span>
<span class="n">age</span> <span class="o">=</span> <span class="mi">25</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">My name is </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">, and I am </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="s"> years old.</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="23-布尔类型bool">2.3 布尔类型（bool）</h3>

<p>布尔值只有 <code class="language-plaintext highlighter-rouge">True</code> 和 <code class="language-plaintext highlighter-rouge">False</code>。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># 输出: True
</span><span class="nf">print</span><span class="p">(</span><span class="nf">bool</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>  <span class="c1"># 输出: False
</span><span class="nf">print</span><span class="p">(</span><span class="nf">bool</span><span class="p">(</span><span class="sh">"</span><span class="s">Non-empty</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># 输出: True
</span></code></pre></div></div>

<hr />

<h3 id="24-列表list">2.4 列表（list）</h3>

<h4 id="241-列表创建和访问">2.4.1 列表创建和访问</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="sh">"</span><span class="s">hello</span><span class="sh">"</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># 输出: 1
</span><span class="nf">print</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># 输出: hello
</span></code></pre></div></div>

<h4 id="242-常见操作">2.4.2 常见操作</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lst</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>      <span class="c1"># 添加元素
</span><span class="n">lst</span><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>  <span class="c1"># 插入元素
</span><span class="n">lst</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>     <span class="c1"># 删除指定值
</span><span class="n">lst</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>          <span class="c1"># 弹出最后一个值
</span><span class="n">lst</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span>         <span class="c1"># 排序
</span></code></pre></div></div>

<hr />

<h3 id="25-元组tuple">2.5 元组（tuple）</h3>

<p>元组是不可变的序列。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># 输出: 1
</span></code></pre></div></div>

<hr />

<h3 id="26-字典dict">2.6 字典（dict）</h3>

<h4 id="261-创建字典">2.6.1 创建字典</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">:</span> <span class="mi">25</span><span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">])</span>  <span class="c1"># 输出: Alice
</span></code></pre></div></div>

<h4 id="262-操作">2.6.2 操作</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">d</span><span class="p">[</span><span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">26</span>       <span class="c1"># 修改值
</span><span class="n">d</span><span class="p">[</span><span class="sh">"</span><span class="s">gender</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">F</span><span class="sh">"</span>   <span class="c1"># 添加键值对
</span><span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="sh">"</span><span class="s">gender</span><span class="sh">"</span><span class="p">]</span>     <span class="c1"># 删除键值对
</span></code></pre></div></div>

<hr />

<h3 id="27-集合set">2.7 集合（set）</h3>

<p>集合是无序且不重复的元素集合。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">s</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># 添加元素
</span><span class="n">s</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># 删除元素
</span></code></pre></div></div>

<hr />

<h3 id="28-类型转换">2.8. 类型转换</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="sh">"</span><span class="s">123</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># 转换为整数: 123
</span><span class="nf">print</span><span class="p">(</span><span class="nf">float</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># 转换为浮点数: 123.0
</span><span class="nf">print</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># 转换为列表: ['1', '2', '3']
</span><span class="nf">print</span><span class="p">(</span><span class="nf">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1"># 转换为元组: ('1', '2', '3')
</span><span class="nf">print</span><span class="p">(</span><span class="nf">set</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>   <span class="c1"># 转换为集合: {'1', '3', '2'}
</span></code></pre></div></div>

<hr />

<h3 id="2-9数据类型判断">2. 9.数据类型判断</h3>

<p>使用 <code class="language-plaintext highlighter-rouge">type()</code> 判断类型。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">type</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># 输出: &lt;class 'int'&gt;
</span></code></pre></div></div>

<hr />

<h2 id="3字符串"><strong>3.字符串</strong></h2>
<h3 id="31-使用字符串方法操作">3.1. 使用字符串方法操作</h3>

<ul>
  <li><strong>更改大小写</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_string</span><span class="p">.</span><span class="nf">upper</span><span class="p">()</span>     <span class="c1"># 全部转为大写
</span><span class="n">my_string</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span>     <span class="c1"># 全部转为小写
</span><span class="n">my_string</span><span class="p">.</span><span class="nf">capitalize</span><span class="p">()</span>  <span class="c1"># 整个字符串的首字母大写，其余字母小写
</span><span class="n">my_string</span><span class="p">.</span><span class="nf">title</span><span class="p">()</span> <span class="c1">#将字符串中的每个单词的首字母大写，其余字母小写
</span></code></pre></div></div>

<ul>
  <li><strong>去除空白</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_string</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span>     <span class="c1"># 去除两端的空白字符
</span><span class="n">my_string</span><span class="p">.</span><span class="nf">lstrip</span><span class="p">()</span>    <span class="c1"># 去除左侧空白字符
</span><span class="n">my_string</span><span class="p">.</span><span class="nf">rstrip</span><span class="p">()</span>    <span class="c1"># 去除右侧空白字符
</span></code></pre></div></div>

<ul>
  <li><strong>分割和合并</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">"</span><span class="s">,</span><span class="sh">"</span><span class="p">)</span>    <span class="c1"># 按逗号分割字符串
</span><span class="n">joined</span> <span class="o">=</span> <span class="sh">"</span><span class="s"> </span><span class="sh">"</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>        <span class="c1"># 用空格连接多个字符串
</span></code></pre></div></div>

<ul>
  <li><strong>替换内容</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">new_string</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">world</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Python</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># 替换子字符串
</span></code></pre></div></div>

<ul>
  <li><strong>删除前缀</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nostarch_url</span> <span class="o">=</span> <span class="sh">'</span><span class="s">https://nostarch.com</span><span class="sh">'</span> <span class="c1">#删除URL前缀 https://
</span><span class="n">nostarch_url</span><span class="p">.</span><span class="nf">removeprefix</span><span class="p">(</span><span class="sh">'</span><span class="s">https://</span><span class="sh">'</span><span class="p">)</span> 
<span class="c1"># 输出'nostarch.com'
</span></code></pre></div></div>

<hr />

<h3 id="32-格式化字符串">3.2. 格式化字符串</h3>

<p>Python 支持多种格式化字符串的方式：</p>

<h4 id="传统格式化">传统格式化</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">formatted</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Hello, %s!</span><span class="sh">"</span> <span class="o">%</span> <span class="sh">"</span><span class="s">world</span><span class="sh">"</span>
</code></pre></div></div>
<h4 id="strformat-方法">str.format 方法</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">formatted</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Hello, {}!</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="sh">"</span><span class="s">world</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="f-stringpython-36">f-string（Python 3.6+）</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">world</span><span class="sh">"</span>
<span class="n">formatted</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>
</code></pre></div></div>

<hr />

<h3 id="33-字符串切片">3.3. 字符串切片</h3>

<p>字符串是不可变的，可以通过索引和切片操作获取子字符串。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_string</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Hello, world!</span><span class="sh">"</span>
<span class="n">substring</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>   <span class="c1"># 获取前5个字符 "Hello"
</span><span class="n">reversed_string</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># 反转字符串
</span></code></pre></div></div>

<hr />

<h3 id="34-检查内容">3.4. 检查内容</h3>

<p>可以使用方法或运算符检查字符串的内容：</p>

<ul>
  <li><strong>查找字符</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">position</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="sh">"</span><span class="s">world</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># 返回子字符串的位置
</span><span class="n">exists</span> <span class="o">=</span> <span class="sh">"</span><span class="s">world</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">my_string</span>       <span class="c1"># 检查是否存在
</span></code></pre></div></div>

<ul>
  <li><strong>统计次数</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">count</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="sh">"</span><span class="s">l</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># 统计字符 'l' 出现的次数
</span></code></pre></div></div>

<ul>
  <li><strong>判断条件</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">is_alpha</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="nf">isalpha</span><span class="p">()</span>   <span class="c1"># 是否全是字母
</span><span class="n">is_digit</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="nf">isdigit</span><span class="p">()</span>   <span class="c1"># 是否全是数字
</span><span class="n">is_space</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="nf">isspace</span><span class="p">()</span>   <span class="c1"># 是否全是空白字符
</span></code></pre></div></div>

<hr />

<h3 id="35-多行字符串">3.5. 多行字符串</h3>

<p>使用三引号存储多行字符串。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">multi_line</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">This is a
multi-line string.</span><span class="sh">"""</span>
</code></pre></div></div>

<hr />

<h3 id="36-字符串编码">3.6. 字符串编码</h3>

<p>可以将字符串编码为字节或从字节解码：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">encoded</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># 编码为字节
</span><span class="n">decoded</span> <span class="o">=</span> <span class="n">encoded</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span>   <span class="c1"># 从字节解码回字符串
</span></code></pre></div></div>

<hr />

<h3 id="37-字符串拼接">3.7. 字符串拼接</h3>

<p>拼接多个字符串：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">part1</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Hello</span><span class="sh">"</span>
<span class="n">part2</span> <span class="o">=</span> <span class="sh">"</span><span class="s">world</span><span class="sh">"</span>
<span class="n">combined</span> <span class="o">=</span> <span class="n">part1</span> <span class="o">+</span> <span class="sh">"</span><span class="s">, </span><span class="sh">"</span> <span class="o">+</span> <span class="n">part2</span> <span class="o">+</span> <span class="sh">"</span><span class="s">!</span><span class="sh">"</span>
</code></pre></div></div>

<p>要在字符串中插⼊变量的值，可先在左引号前加上字⺟ f ，再将要 插⼊的变量放在花括号内。这样， Python 在显⽰字符串时，将把每个变量 都替换为其值。 这种字符串称为 f 字符串。 f 是 format （设置格式）的简写，因为 Python 通 过把花括号内的变量替换为其值来设置字符串的格式。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>first_name = "ada" 
last_name = "lovelace" 
full_name = f"{first_name} {last_name}"
print(f"Hello, {full_name.title()}!")
</code></pre></div></div>

<hr />

<h2 id="4列表"><strong>4.列表</strong></h2>
<h3 id="41-创建列表">4.1. 创建列表</h3>

<ul>
  <li><strong>空列表</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>  <span class="c1"># 等价于上面
</span></code></pre></div></div>

<ul>
  <li><strong>带初始值的列表</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">apple</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">banana</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">cherry</span><span class="sh">"</span><span class="p">]</span>
</code></pre></div></div>

<ul>
  <li><strong>混合数据类型</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="sh">"</span><span class="s">hello</span><span class="sh">"</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
</code></pre></div></div>

<hr />

<h3 id="42-访问列表元素">4.2. 访问列表元素</h3>

<ul>
  <li><strong>通过索引访问</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># 10，正向索引从 0 开始
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># 50，反向索引从 -1 开始
</span></code></pre></div></div>

<ul>
  <li><strong>切片访问</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>  <span class="c1"># [20, 30, 40]，不包含结束索引
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>   <span class="c1"># [10, 20, 30]，省略起始默认为 0
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>   <span class="c1"># [30, 40, 50]，省略结束默认为最后
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[::</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># [10, 30, 50]，步长为 2
</span></code></pre></div></div>

<hr />

<h3 id="43-修改列表">4.3. 修改列表</h3>

<ul>
  <li><strong>通过索引修改</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">20</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 20, 3]
</span></code></pre></div></div>

<ul>
  <li><strong>通过切片修改</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 200, 300]
</span></code></pre></div></div>

<hr />

<h3 id="44-添加元素">4.4. 添加元素</h3>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">append()</code></strong>：在末尾添加单个元素</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 2, 3, 4]
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">insert()</code></strong>：在指定位置插入元素</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 100, 2, 3]
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">extend()</code></strong>：扩展列表（可添加多个元素）</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">.</span><span class="nf">extend</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 2, 3, 4, 5, 6]
</span></code></pre></div></div>

<hr />

<h3 id="45-删除元素">4.5. 删除元素</h3>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">remove()</code></strong>：删除指定值（仅删除第一个匹配项）</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 3, 2]
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">pop()</code></strong>：删除指定索引的元素并返回它</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">my_list</span><span class="p">.</span><span class="nf">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 2
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 3]
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">del</code></strong>：删除指定索引或切片</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="k">del</span> <span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 3, 4]
</span><span class="k">del</span> <span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1]
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">clear()</code></strong>：清空列表</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># []
</span></code></pre></div></div>

<hr />

<h3 id="46-搜索元素">4.6. 搜索元素</h3>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">index()</code></strong>：返回指定元素的索引</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>  <span class="c1"># 1
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">count()</code></strong>：返回指定元素的数量</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># 2
</span></code></pre></div></div>

<hr />

<h3 id="47-排序和反转">4.7. 排序和反转</h3>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">sort()</code></strong>：原地排序（默认升序）</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [1, 2, 3]
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">sort(reverse=True)</code></strong>：降序排序</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [3, 2, 1]
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">reverse()</code></strong>：原地反转列表</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">.</span><span class="nf">reverse</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [3, 2, 1]
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">sorted()</code></strong>：返回排序后的新列表，不改变原列表</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">new_list</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">new_list</span><span class="p">)</span>  <span class="c1"># [1, 2, 3]
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># [3, 1, 2]
</span></code></pre></div></div>

<hr />

<h3 id="48-其他操作">4.8. 其他操作</h3>

<ul>
  <li><strong>长度：<code class="language-plaintext highlighter-rouge">len()</code></strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">))</span>  <span class="c1"># 3
</span></code></pre></div></div>

<ul>
  <li><strong>最大值和最小值：<code class="language-plaintext highlighter-rouge">max()</code> 和 <code class="language-plaintext highlighter-rouge">min()</code></strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="n">my_list</span><span class="p">))</span>  <span class="c1"># 3
</span><span class="nf">print</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="n">my_list</span><span class="p">))</span>  <span class="c1"># 1
</span></code></pre></div></div>

<ul>
  <li><strong>检查元素是否在列表中：<code class="language-plaintext highlighter-rouge">in</code> 和 <code class="language-plaintext highlighter-rouge">not in</code></strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="mi">2</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">)</span>  <span class="c1"># True
</span><span class="nf">print</span><span class="p">(</span><span class="mi">4</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">)</span>  <span class="c1"># True
</span></code></pre></div></div>

<ul>
  <li><strong>复制列表</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">copy_list</span> <span class="o">=</span> <span class="n">my_list</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">copy_list</span><span class="p">)</span>  <span class="c1"># [1, 2, 3]
</span></code></pre></div></div>

<hr />

<h3 id="49-列表的高级操作">4.9. 列表的高级操作</h3>

<ul>
  <li><strong>列表推导式</strong>：用于生成新的列表</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>  <span class="c1"># [0, 1, 4, 9, 16]
</span></code></pre></div></div>

<ul>
  <li><strong>嵌套列表</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># 2
</span></code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">zip()</code> 函数</strong>：合并多个列表</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">c</span><span class="sh">'</span><span class="p">]</span>
<span class="n">combined</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="nf">zip</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">combined</span><span class="p">)</span>  <span class="c1"># [(1, 'a'), (2, 'b'), (3, 'c')]
</span></code></pre></div></div>

<hr />

<h3 id="410-性能优化">4.10. 性能优化</h3>

<ul>
  <li><strong>避免频繁插入或删除（尤其是首部）</strong>：列表在插入或删除时需要调整其他元素的索引。</li>
  <li><strong>使用<code class="language-plaintext highlighter-rouge">deque</code></strong>：如果需要频繁的首部操作，可以使用 <code class="language-plaintext highlighter-rouge">collections.deque</code> 提高性能。</li>
</ul>

<hr />

<h2 id="5元组"><strong>5.元组</strong></h2>
<h3 id="51-创建元组">5.1. 创建元组</h3>

<ul>
  <li><strong>空元组</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">()</span>
<span class="n">my_tuple</span> <span class="o">=</span> <span class="nf">tuple</span><span class="p">()</span>  <span class="c1"># 等价于上面
</span></code></pre></div></div>

<ul>
  <li><strong>带初始值的元组</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">apple</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">banana</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">cherry</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><strong>单个元素的元组</strong>： 必须在单个元素后加逗号，否则会被解释为普通的括号表达式：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">single_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>  <span class="c1"># 正确
</span><span class="n">not_a_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># 错误，类型为 int
</span></code></pre></div></div>

<ul>
  <li><strong>混合数据类型的元组</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="sh">"</span><span class="s">hello</span><span class="sh">"</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</code></pre></div></div>

<ul>
  <li><strong>使用 <code class="language-plaintext highlighter-rouge">tuple()</code> 创建元组</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="nf">tuple</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># 将列表转为元组
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">)</span>  <span class="c1"># (1, 2, 3)
</span></code></pre></div></div>

<hr />

<h3 id="52-访问元组元素">5.2. 访问元组元素</h3>

<ul>
  <li><strong>通过索引访问</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># 10，正向索引从 0 开始
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># 50，反向索引从 -1 开始
</span></code></pre></div></div>

<ul>
  <li><strong>切片访问</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>  <span class="c1"># (20, 30, 40)，不包含结束索引
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>   <span class="c1"># (10, 20, 30)
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>   <span class="c1"># (30, 40, 50)
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">[::</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># (10, 30, 50)，步长为 2
</span></code></pre></div></div>

<hr />

<h3 id="53-元组的不可变性">5.3. 元组的不可变性</h3>

<p>元组的元素一旦定义，就无法修改、删除或添加：</p>

<ul>
  <li><strong>试图修改元素</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">my_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># 抛出 TypeError
</span></code></pre></div></div>

<ul>
  <li><strong>试图删除元素</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">del</span> <span class="n">my_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># 抛出 TypeError
</span></code></pre></div></div>

<p>但如果元组中包含<strong>可变对象</strong>（如列表），其内容是可以修改的：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">my_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">200</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">)</span>  <span class="c1"># (1, [200, 3], 4)
</span></code></pre></div></div>

<hr />

<h3 id="54-常用操作">5.4. 常用操作</h3>

<h4 id="1-合并元组">(1) 合并元组</h4>

<p>使用 <code class="language-plaintext highlighter-rouge">+</code> 将两个元组合并成一个新元组：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tuple1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">tuple2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">combined</span> <span class="o">=</span> <span class="n">tuple1</span> <span class="o">+</span> <span class="n">tuple2</span>
<span class="nf">print</span><span class="p">(</span><span class="n">combined</span><span class="p">)</span>  <span class="c1"># (1, 2, 3, 4)
</span></code></pre></div></div>

<h4 id="2-复制元组">(2) 复制元组</h4>

<p>使用 <code class="language-plaintext highlighter-rouge">*</code> 重复元组中的元素：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">repeated</span> <span class="o">=</span> <span class="n">my_tuple</span> <span class="o">*</span> <span class="mi">3</span>
<span class="nf">print</span><span class="p">(</span><span class="n">repeated</span><span class="p">)</span>  <span class="c1"># (1, 2, 1, 2, 1, 2)
</span></code></pre></div></div>

<h4 id="3-判断元素是否在元组中">(3) 判断元素是否在元组中</h4>

<p>使用 <code class="language-plaintext highlighter-rouge">in</code> 或 <code class="language-plaintext highlighter-rouge">not in</code> 检查元素：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="mi">2</span> <span class="ow">in</span> <span class="n">my_tuple</span><span class="p">)</span>  <span class="c1"># True
</span><span class="nf">print</span><span class="p">(</span><span class="mi">4</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">my_tuple</span><span class="p">)</span>  <span class="c1"># True
</span></code></pre></div></div>

<h4 id="4-获取元素数量count">(4) 获取元素数量：<code class="language-plaintext highlighter-rouge">count()</code></h4>

<p>统计某个值在元组中出现的次数：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># 2
</span></code></pre></div></div>

<h4 id="5-获取元素索引index">(5) 获取元素索引：<code class="language-plaintext highlighter-rouge">index()</code></h4>

<p>返回第一个匹配值的索引：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>  <span class="c1"># 1
</span></code></pre></div></div>

<hr />

<h3 id="55-解包元组">5.5. 解包元组</h3>

<ul>
  <li><strong>普通解包</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">my_tuple</span>
<span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>  <span class="c1"># 1 2 3
</span></code></pre></div></div>

<ul>
  <li><strong>使用 <code class="language-plaintext highlighter-rouge">*</code> 收集剩余元素</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">my_tuple</span>
<span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># 1
</span><span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>  <span class="c1"># [2, 3]
</span><span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>  <span class="c1"># 4
</span></code></pre></div></div>

<hr />

<h3 id="56-元组的遍历">5.6. 元组的遍历</h3>

<p>可以使用 <code class="language-plaintext highlighter-rouge">for</code> 循环遍历元组：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">my_tuple</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="57-元组的排序和转换">5.7. 元组的排序和转换</h3>

<ul>
  <li><strong>排序元组</strong>： 元组本身不能修改，但可以通过 <code class="language-plaintext highlighter-rouge">sorted()</code> 返回排序后的列表：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sorted_list</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">sorted_list</span><span class="p">)</span>  <span class="c1"># [1, 2, 3]
</span></code></pre></div></div>

<ul>
  <li><strong>元组与列表互相转换</strong>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">)</span>  <span class="c1"># 转为列表
</span><span class="n">new_tuple</span> <span class="o">=</span> <span class="nf">tuple</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>  <span class="c1"># 再转为元组
</span></code></pre></div></div>

<hr />

<h3 id="58-嵌套元组">5.8. 嵌套元组</h3>

<p>元组可以包含元组：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nested_tuple</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">nested_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># 3
</span></code></pre></div></div>

<hr />

<h3 id="59-元组的特殊用法">5.9. 元组的特殊用法</h3>

<h4 id="1-用作字典键">(1) 用作字典键</h4>

<p>元组是不可变的，可以作为字典的键：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>  <span class="c1"># value
</span></code></pre></div></div>

<h4 id="2-用于返回多个值">(2) 用于返回多个值</h4>

<p>函数可以通过元组返回多个值：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_coordinates</span><span class="p">():</span>
    <span class="nf">return </span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nf">get_coordinates</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># 10 20
</span></code></pre></div></div>

<hr />

<h3 id="510-元组的性能">5.10. 元组的性能</h3>

<p>由于元组是不可变的，内存和性能方面优于列表，特别是在需要频繁操作但数据内容不变时使用元组是更高效的选择。</p>

<hr />

<h2 id="6字典"><strong>6.字典</strong></h2>
<h3 id="61-字典的创建">6.1. 字典的创建</h3>

<h4 id="创建空字典">创建空字典</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">my_dict</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="创建非空字典">创建非空字典</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 直接赋值
</span><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="sh">"</span><span class="s">city</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">New York</span><span class="sh">"</span><span class="p">}</span>

<span class="c1"># 使用 dict() 函数
</span><span class="n">my_dict</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">city</span><span class="o">=</span><span class="sh">"</span><span class="s">New York</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 使用元组列表
</span><span class="n">my_dict</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">([(</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">),</span> <span class="p">(</span><span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="p">(</span><span class="sh">"</span><span class="s">city</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">New York</span><span class="sh">"</span><span class="p">)])</span>

<span class="c1"># 使用字典推导式
</span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">city</span><span class="sh">"</span><span class="p">]</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="sh">"</span><span class="s">New York</span><span class="sh">"</span><span class="p">]</span>
<span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nf">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">)}</span>
</code></pre></div></div>

<hr />

<h3 id="62-字典的访问">6.2. 字典的访问</h3>

<h4 id="通过键访问值">通过键访问值</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">:</span> <span class="mi">25</span><span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">[</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">])</span>  <span class="c1"># Alice
</span></code></pre></div></div>

<h4 id="使用-get-方法">使用 <code class="language-plaintext highlighter-rouge">get()</code> 方法</h4>

<ul>
  <li>避免 <code class="language-plaintext highlighter-rouge">KeyError</code> 的安全方式：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">))</span>      <span class="c1"># Alice
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">gender</span><span class="sh">"</span><span class="p">))</span>    <span class="c1"># None
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">gender</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Not Specified</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># Not Specified
</span></code></pre></div></div>

<hr />

<h3 id="63-添加或更新键值对">6.3. 添加或更新键值对</h3>

<h4 id="直接添加更新">直接添加/更新</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span><span class="p">[</span><span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># 更新键值对
</span><span class="n">my_dict</span><span class="p">[</span><span class="sh">"</span><span class="s">gender</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Female</span><span class="sh">"</span>  <span class="c1"># 添加新键值对
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># {'name': 'Alice', 'age': 30, 'gender': 'Female'}
</span></code></pre></div></div>

<h4 id="使用-update">使用 <code class="language-plaintext highlighter-rouge">update()</code></h4>

<ul>
  <li>批量更新或添加键值对：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span><span class="p">.</span><span class="nf">update</span><span class="p">({</span><span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span> <span class="sh">"</span><span class="s">city</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">London</span><span class="sh">"</span><span class="p">})</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># {'name': 'Alice', 'age': 35, 'gender': 'Female', 'city': 'London'}
</span></code></pre></div></div>

<hr />

<h3 id="64-删除键值对">6.4. 删除键值对</h3>

<h4 id="使用-del">使用 <code class="language-plaintext highlighter-rouge">del</code></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">del</span> <span class="n">my_dict</span><span class="p">[</span><span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># {'name': 'Alice', 'gender': 'Female'}
</span></code></pre></div></div>

<h4 id="使用-pop">使用 <code class="language-plaintext highlighter-rouge">pop()</code></h4>

<ul>
  <li>删除键并返回其值：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">removed_value</span> <span class="o">=</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">pop</span><span class="p">(</span><span class="sh">"</span><span class="s">gender</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">removed_value</span><span class="p">)</span>  <span class="c1"># Female
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># {'name': 'Alice'}
</span></code></pre></div></div>

<h4 id="使用-popitem">使用 <code class="language-plaintext highlighter-rouge">popitem()</code></h4>

<ul>
  <li>删除并返回最后一个键值对（Python 3.7+）：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">last_item</span> <span class="o">=</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">popitem</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">last_item</span><span class="p">)</span>  <span class="c1"># ('city', 'London')
</span></code></pre></div></div>

<h4 id="清空字典">清空字典</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># {}
</span></code></pre></div></div>

<hr />

<h3 id="65-遍历字典">6.5. 遍历字典</h3>

<h4 id="遍历键">遍历键</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="遍历值">遍历值</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">values</span><span class="p">():</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="遍历键值对">遍历键值对</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="66-字典的方法">6.6. 字典的方法</h3>

<h4 id="获取键值和键值对">获取键、值和键值对</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">keys</span> <span class="o">=</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">keys</span><span class="p">()</span>      <span class="c1"># dict_keys(['name', 'age', 'city'])
</span><span class="n">values</span> <span class="o">=</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">values</span><span class="p">()</span>  <span class="c1"># dict_values(['Alice', 25, 'New York'])
</span><span class="n">items</span> <span class="o">=</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span>    <span class="c1"># dict_items([('name', 'Alice'), ('age', 25), ('city', 'New York')])
</span></code></pre></div></div>

<h4 id="检查键是否存在">检查键是否存在</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># True
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">gender</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># True
</span></code></pre></div></div>

<h4 id="从默认值创建字典">从默认值创建字典</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">new_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">.</span><span class="nf">fromkeys</span><span class="p">([</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">b</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">c</span><span class="sh">"</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">new_dict</span><span class="p">)</span>  <span class="c1"># {'a': 0, 'b': 0, 'c': 0}
</span></code></pre></div></div>

<h4 id="获取键的默认值">获取键的默认值</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">setdefault</span><span class="p">(</span><span class="sh">"</span><span class="s">gender</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Female</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># Female
</span><span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># {'name': 'Alice', 'age': 25, 'city': 'New York', 'gender': 'Female'}
</span></code></pre></div></div>

<hr />

<h3 id="67-字典的操作示例">6.7. 字典的操作示例</h3>

<h4 id="合并两个字典">合并两个字典</h4>

<ul>
  <li>使用 <code class="language-plaintext highlighter-rouge">update()</code>：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sh">"</span><span class="s">b</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">b</span><span class="sh">"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="sh">"</span><span class="s">c</span><span class="sh">"</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="n">dict1</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">dict2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">dict1</span><span class="p">)</span>  <span class="c1"># {'a': 1, 'b': 3, 'c': 4}
</span></code></pre></div></div>

<ul>
  <li>使用字典合并运算符（Python 3.9+）：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sh">"</span><span class="s">b</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">b</span><span class="sh">"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="sh">"</span><span class="s">c</span><span class="sh">"</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="n">new_dict</span> <span class="o">=</span> <span class="n">dict1</span> <span class="o">|</span> <span class="n">dict2</span>
<span class="nf">print</span><span class="p">(</span><span class="n">new_dict</span><span class="p">)</span>  <span class="c1"># {'a': 1, 'b': 3, 'c': 4}
</span></code></pre></div></div>

<h4 id="字典推导式">字典推导式</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">squares</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)}</span>
<span class="nf">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>  <span class="c1"># {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}
</span></code></pre></div></div>

<h4 id="统计字符串中字符的频率">统计字符串中字符的频率</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="n">text</span> <span class="o">=</span> <span class="sh">"</span><span class="s">hello world</span><span class="sh">"</span>
<span class="n">frequency</span> <span class="o">=</span> <span class="nc">Counter</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>  <span class="c1"># Counter({'l': 3, 'o': 2, 'h': 1, 'e': 1, ' ': 1, 'w': 1, 'r': 1, 'd': 1})
</span></code></pre></div></div>

<hr />

<h3 id="68-字典的常见错误与注意事项">6.8. 字典的常见错误与注意事项</h3>

<ol>
  <li>
    <p><strong>键必须是不可变的</strong>：</p>

    <ul>
      <li>常见键类型：<code class="language-plaintext highlighter-rouge">str</code>, <code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">tuple</code></li>
      <li>不可使用可变类型作为键，如列表。</li>
    </ul>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span> <span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">}</span>  <span class="c1"># TypeError: unhashable type: 'list'
</span></code></pre></div></div>

<ol>
  <li>
    <p><strong>键唯一性</strong>：</p>

    <ul>
      <li>如果插入重复的键，后插入的值会覆盖之前的值：</li>
    </ul>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>  <span class="c1"># {'a': 2}
</span></code></pre></div></div>

<hr />

<h3 id="69-字典的高级用法">6.9. 字典的高级用法</h3>

<h4 id="排序字典">排序字典</h4>

<ul>
  <li>按键排序：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sorted_dict</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="nf">sorted</span><span class="p">(</span><span class="n">my_dict</span><span class="p">.</span><span class="nf">items</span><span class="p">()))</span>
</code></pre></div></div>

<ul>
  <li>按值排序：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sorted_dict</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="nf">sorted</span><span class="p">(</span><span class="n">my_dict</span><span class="p">.</span><span class="nf">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</code></pre></div></div>

<h4 id="深拷贝">深拷贝</h4>

<ul>
  <li>使用 <code class="language-plaintext highlighter-rouge">copy</code> 仅进行浅拷贝。</li>
  <li>深拷贝需要使用 <code class="language-plaintext highlighter-rouge">copy</code> 模块：</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">copy</span>
<span class="n">deep_copy_dict</span> <span class="o">=</span> <span class="n">copy</span><span class="p">.</span><span class="nf">deepcopy</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="7条件判断"><strong>7.条件判断</strong></h2>

<h3 id="71基本条件语句">7.1.基本条件语句</h3>

<p>条件语句通过 <code class="language-plaintext highlighter-rouge">if-elif-else</code> 来控制代码的执行流程。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Positive</span><span class="sh">"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Zero</span><span class="sh">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Negative</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="72单行条件语句">7.2.单行条件语句</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Positive</span><span class="sh">"</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Negative or Zero</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="73比较运算符">7.3.比较运算符</h3>

<table>
  <thead>
    <tr>
      <th>运算符</th>
      <th>描述</th>
      <th>示例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">==</code></td>
      <td>等于</td>
      <td><code class="language-plaintext highlighter-rouge">x == y</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">!=</code></td>
      <td>不等于</td>
      <td><code class="language-plaintext highlighter-rouge">x != y</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;</code></td>
      <td>小于</td>
      <td><code class="language-plaintext highlighter-rouge">x &lt; y</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&gt;</code></td>
      <td>大于</td>
      <td><code class="language-plaintext highlighter-rouge">x &gt; y</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;=</code></td>
      <td>小于等于</td>
      <td><code class="language-plaintext highlighter-rouge">x &lt;= y</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&gt;=</code></td>
      <td>大于等于</td>
      <td><code class="language-plaintext highlighter-rouge">x &gt;= y</code></td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="74逻辑运算符">7.4.逻辑运算符</h3>

<table>
  <thead>
    <tr>
      <th>运算符</th>
      <th>描述</th>
      <th>示例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">and</code></td>
      <td>全部条件为真</td>
      <td><code class="language-plaintext highlighter-rouge">x &gt; 0 and x &lt; 10</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">or</code></td>
      <td>至少一个条件为真</td>
      <td><code class="language-plaintext highlighter-rouge">x &gt; 0 or x &lt; -10</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">not</code></td>
      <td>取反</td>
      <td><code class="language-plaintext highlighter-rouge">not (x &gt; 0)</code></td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="75成员运算符">7.5.成员运算符</h3>

<table>
  <thead>
    <tr>
      <th>运算符</th>
      <th>描述</th>
      <th>示例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">in</code></td>
      <td>检查元素是否存在</td>
      <td><code class="language-plaintext highlighter-rouge">'a' in ['a', 'b']</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">not in</code></td>
      <td>检查元素是否不存在</td>
      <td><code class="language-plaintext highlighter-rouge">'c' not in ['a', 'b']</code></td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="76身份运算符">7.6.身份运算符</h3>

<table>
  <thead>
    <tr>
      <th>运算符</th>
      <th>描述</th>
      <th>示例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">is</code></td>
      <td>判断两个对象是否相同</td>
      <td><code class="language-plaintext highlighter-rouge">a is b</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">is not</code></td>
      <td>判断两个对象是否不同</td>
      <td><code class="language-plaintext highlighter-rouge">a is not b</code></td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="77嵌套条件语句">7.7.嵌套条件语句</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Positive and Even</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Positive and Odd</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="8循环"><strong>8.循环</strong></h2>

<p>Python 提供了两种循环：<code class="language-plaintext highlighter-rouge">for</code> 循环和 <code class="language-plaintext highlighter-rouge">while</code> 循环。</p>

<h3 id="81for循环">8.1.for循环</h3>

<p>用于遍历可迭代对象（如列表、元组、字符串、字典、集合等）。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 遍历列表
</span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="c1"># 遍历字符串
</span><span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="sh">"</span><span class="s">hello</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>

<span class="c1"># 遍历字典
</span><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">:</span> <span class="mi">25</span><span class="p">}</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="82while循环">8.2.while循环</h3>

<p>根据条件反复执行代码，直到条件为 <code class="language-plaintext highlighter-rouge">False</code>。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<hr />

<h3 id="83循环控制关键字">8.3.循环控制关键字</h3>

<h4 id="break">break</h4>

<p>用于终止整个循环。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># 输出 0, 1, 2
</span></code></pre></div></div>

<h4 id="continue">continue</h4>

<p>跳过当前循环的剩余部分，继续下一次迭代。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># 输出 0, 1, 2, 4
</span></code></pre></div></div>

<h4 id="else">else</h4>

<p>与 <code class="language-plaintext highlighter-rouge">for</code> 或 <code class="language-plaintext highlighter-rouge">while</code> 搭配使用，循环未被 <code class="language-plaintext highlighter-rouge">break</code> 中断时执行。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">break</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Completed without break</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># 不执行
</span>
<span class="k">while</span> <span class="bp">False</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">While loop completed</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># 执行
</span></code></pre></div></div>

<hr />

<h3 id="84循环常用函数">8.4.循环常用函数</h3>

<h4 id="range">range()</h4>

<p>生成一系列数字。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>       <span class="c1"># 0, 1, 2, 3, 4
</span>    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>    <span class="c1"># 1, 2, 3, 4
</span>    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="c1"># 1, 3, 5, 7, 9
</span>    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="enumerate">enumerate()</h4>

<p>用于同时获取元素及其索引。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">c</span><span class="sh">'</span><span class="p">]</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">my_list</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>  <span class="c1"># 输出 (0, 'a'), (1, 'b'), (2, 'c')
</span></code></pre></div></div>

<h4 id="zip">zip()</h4>

<p>将多个可迭代对象打包成元组。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Bob</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Charlie</span><span class="sh">"</span><span class="p">]</span>
<span class="n">ages</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">]</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="nf">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">ages</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>  <span class="c1"># 输出 ('Alice', 25), ('Bob', 30), ('Charlie', 35)
</span></code></pre></div></div>

<h4 id="reversed">reversed()</h4>

<p>反转可迭代对象。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">reversed</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)):</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># 输出 4, 3, 2, 1, 0
</span></code></pre></div></div>

<h4 id="sorted">sorted()</h4>

<p>排序可迭代对象。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">sorted</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]):</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># 输出 1, 2, 3
</span></code></pre></div></div>

<hr />

<h3 id="85列表推导式">8.5.列表推导式</h3>

<p>列表推导式可以简洁地生成新列表。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 生成平方数列表
</span><span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>  <span class="c1"># [0, 1, 4, 9, 16]
</span>
<span class="c1"># 带条件的推导式
</span><span class="n">evens</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">evens</span><span class="p">)</span>  <span class="c1"># [0, 2, 4, 6, 8]
</span></code></pre></div></div>

<hr />

<h3 id="86无限循环">8.6.无限循环</h3>

<p>当条件始终为真时会形成无限循环，需要配合 <code class="language-plaintext highlighter-rouge">break</code> 结束循环。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">Enter something: </span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="sh">"</span><span class="s">exit</span><span class="sh">"</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">You entered </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="87嵌套循环">8.7.嵌套循环</h3>

<p>可以在循环内部嵌套其他循环。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">i=</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s">, j=</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="88循环和条件的结合">8.8.循环和条件的结合</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s"> is even</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s"> is odd</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="9函数"><strong>9.函数</strong></h2>
<h3 id="91-定义函数">9.1. 定义函数</h3>

<p>使用 def 关键字定义函数。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>
</code></pre></div></div>

<p>调用：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># 输出: Hello, Alice!
</span></code></pre></div></div>

<hr />

<h3 id="92-参数类型">9.2. 参数类型</h3>

<h4 id="921-位置参数">9.2.1 位置参数</h4>

<p>按参数位置传递值。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">add</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># 输出: 8
</span></code></pre></div></div>

<hr />

<h4 id="922-默认参数">9.2.2 默认参数</h4>

<p>给参数设置默认值，当未传入该参数时使用默认值。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">greeting</span><span class="o">=</span><span class="sh">"</span><span class="s">Hello</span><span class="sh">"</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">greeting</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">))</span>        <span class="c1"># 输出: Hello, Alice!
</span><span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Hi</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># 输出: Hi, Alice!
</span></code></pre></div></div>

<hr />

<h4 id="923-可变位置参数-args">9.2.3 可变位置参数 (<code class="language-plaintext highlighter-rouge">*args</code>)</h4>

<p>将所有未命名的位置参数收集为一个元组。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">sum_numbers</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="nf">sum</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">sum_numbers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>  <span class="c1"># 输出: 10
</span></code></pre></div></div>

<hr />

<h4 id="924-可变关键字参数-kwargs">9.2.4 可变关键字参数 (<code class="language-plaintext highlighter-rouge">**kwargs</code>)</h4>

<p>将所有未命名的关键字参数收集为一个字典。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">print_info</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print_info</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>  
<span class="c1"># 输出:
# name: Alice
# age: 25
</span></code></pre></div></div>

<hr />

<h4 id="925-强制关键字参数">9.2.5 强制关键字参数</h4>

<p>使用 <code class="language-plaintext highlighter-rouge">*</code> 后的参数必须以关键字形式传递。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">greeting</span><span class="o">=</span><span class="sh">"</span><span class="s">Hello</span><span class="sh">"</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">greeting</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="n">greeting</span><span class="o">=</span><span class="sh">"</span><span class="s">Hi</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># 输出: Hi, Alice!
</span></code></pre></div></div>

<hr />

<h4 id="926-解包参数">9.2.6 解包参数</h4>

<p>利用 <code class="language-plaintext highlighter-rouge">*</code> 和 <code class="language-plaintext highlighter-rouge">**</code> 解包序列或字典传递给函数。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">greeting</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">greeting</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>
<span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Hi</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">))</span>  <span class="c1"># 输出: Hi, Alice!
</span>
<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">greeting</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Hello</span><span class="sh">"</span><span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">greet</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>  <span class="c1"># 输出: Hello, Alice!
</span></code></pre></div></div>

<hr />

<h3 id="93-返回值">9.3. 返回值</h3>

<h4 id="931-单个返回值">9.3.1 单个返回值</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">square</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>  <span class="c1"># 输出: 16
</span></code></pre></div></div>

<h4 id="932-多个返回值">9.3.2 多个返回值</h4>

<p>返回多个值会组成一个元组。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">operations</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
<span class="n">result</span> <span class="o">=</span> <span class="nf">operations</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>         <span class="c1"># 输出: (12, 8, 20, 5.0)
</span><span class="n">add</span><span class="p">,</span> <span class="n">sub</span><span class="p">,</span> <span class="n">mul</span><span class="p">,</span> <span class="n">div</span> <span class="o">=</span> <span class="n">result</span>
<span class="nf">print</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="n">sub</span><span class="p">)</span>       <span class="c1"># 输出: 12, 8
</span></code></pre></div></div>

<hr />

<h3 id="94-函数作用域">9.4. 函数作用域</h3>

<h4 id="941-局部变量和全局变量">9.4.1 局部变量和全局变量</h4>

<p>局部变量在函数内声明，仅在函数内部有效。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># 全局变量
</span>
<span class="k">def</span> <span class="nf">change_value</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># 局部变量
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Inside function:</span><span class="sh">"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="nf">change_value</span><span class="p">()</span>         <span class="c1"># 输出: Inside function: 20
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Outside function:</span><span class="sh">"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>  <span class="c1"># 输出: Outside function: 10
</span></code></pre></div></div>

<hr />

<h4 id="942-使用-global-修改全局变量">9.4.2 使用 <code class="language-plaintext highlighter-rouge">global</code> 修改全局变量</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">def</span> <span class="nf">change_global</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">x</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">20</span>

<span class="nf">change_global</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># 输出: 20
</span></code></pre></div></div>

<hr />

<h4 id="943-使用-nonlocal-修改外部非全局变量">9.4.3 使用 <code class="language-plaintext highlighter-rouge">nonlocal</code> 修改外部非全局变量</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">outer</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">inner</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="nf">inner</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="nf">outer</span><span class="p">()</span>  <span class="c1"># 输出: 20
</span></code></pre></div></div>

<hr />

<h3 id="95-匿名函数">9.5. 匿名函数</h3>

<p>使用 <code class="language-plaintext highlighter-rouge">lambda</code> 定义匿名函数，适用于简单操作。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">square</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">square</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>  <span class="c1"># 输出: 16
</span>
<span class="n">add</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># 输出: 5
</span></code></pre></div></div>

<hr />

<h3 id="96-高阶函数">9.6. 高阶函数</h3>

<h4 id="961-map">9.6.1 map</h4>

<p>对可迭代对象中的每个元素应用函数。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">squared</span> <span class="o">=</span> <span class="nf">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="n">nums</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="n">squared</span><span class="p">))</span>  <span class="c1"># 输出: [1, 4, 9, 16]
</span></code></pre></div></div>

<h4 id="962-filter">9.6.2 filter</h4>

<p>筛选出满足条件的元素。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">evens</span> <span class="o">=</span> <span class="nf">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">nums</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="n">evens</span><span class="p">))</span>  <span class="c1"># 输出: [2, 4]
</span></code></pre></div></div>

<h4 id="963-reduce">9.6.3 reduce</h4>

<p>通过累积函数合并元素。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">functools</span> <span class="kn">import</span> <span class="nb">reduce</span>
<span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">product</span> <span class="o">=</span> <span class="nf">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">nums</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>  <span class="c1"># 输出: 24
</span></code></pre></div></div>

<hr />

<h3 id="97-函数装饰器">9.7. 函数装饰器</h3>

<p>装饰器是用于修改函数行为的高阶函数。</p>

<h4 id="971-定义装饰器">9.7.1 定义装饰器</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Something before the function.</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">func</span><span class="p">()</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Something after the function.</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="nd">@my_decorator</span>
<span class="k">def</span> <span class="nf">say_hello</span><span class="p">():</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello!</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">say_hello</span><span class="p">()</span>
<span class="c1"># 输出:
# Something before the function.
# Hello!
# Something after the function.
</span></code></pre></div></div>

<hr />

<h3 id="98-内置函数">9.8. 内置函数</h3>

<p>Python 提供了一些常用的内置函数：</p>

<table>
  <thead>
    <tr>
      <th>函数</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">abs()</code></td>
      <td>返回绝对值</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">len()</code></td>
      <td>返回长度</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">max()</code></td>
      <td>返回最大值</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">min()</code></td>
      <td>返回最小值</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">sum()</code></td>
      <td>返回总和</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">sorted()</code></td>
      <td>返回排序后的列表</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type()</code></td>
      <td>返回对象的类型</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">id()</code></td>
      <td>返回对象的唯一标识</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">help()</code></td>
      <td>显示帮助文档</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="99-文档字符串">9.9. 文档字符串</h3>

<p>函数可以包含文档字符串，用于描述其功能。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    Greets a person with the given name.

    Args:
        name (str): The name of the person.

    Returns:
        str: The greeting message.
    </span><span class="sh">"""</span>
    <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>

<span class="nf">print</span><span class="p">(</span><span class="n">greet</span><span class="p">.</span><span class="n">__doc__</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="10类"><strong>10.类</strong></h2>
<h3 id="101-基本定义">10.1. 基本定义</h3>

<h4 id="1011-定义类">10.1.1 定义类</h4>

<p>使用 <code class="language-plaintext highlighter-rouge">class</code> 关键字定义类：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">pass</span>  <span class="c1"># 表示空类
</span></code></pre></div></div>

<h4 id="1012-创建对象">10.1.2 创建对象</h4>

<p>类的实例化会创建一个对象：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">obj</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>  <span class="c1"># 输出: &lt;__main__.MyClass object at 0x...&gt;
</span></code></pre></div></div>

<hr />

<h3 id="102-类的属性和方法">10.2. 类的属性和方法</h3>

<h4 id="1021-实例属性">10.2.1 实例属性</h4>

<p>实例属性是每个对象独有的。可以通过 <code class="language-plaintext highlighter-rouge">__init__</code> 方法定义。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>  <span class="c1"># 实例属性
</span>        <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>

<span class="c1"># 创建对象
</span><span class="n">person</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># 输出: Alice
</span><span class="nf">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">age</span><span class="p">)</span>   <span class="c1"># 输出: 25
</span></code></pre></div></div>

<h4 id="1022-实例方法">10.2.2 实例方法</h4>

<p>实例方法是操作实例属性的函数，必须包含 <code class="language-plaintext highlighter-rouge">self</code> 参数。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Hello, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>

<span class="n">person</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">greet</span><span class="p">())</span>  <span class="c1"># 输出: Hello, Alice!
</span></code></pre></div></div>

<hr />

<h4 id="1023-类属性">10.2.3 类属性</h4>

<p>类属性是所有实例共享的属性，用于定义与实例无关的数据。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">species</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Human</span><span class="sh">"</span>  <span class="c1"># 类属性
</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

<span class="nf">print</span><span class="p">(</span><span class="n">MyClass</span><span class="p">.</span><span class="n">species</span><span class="p">)</span>  <span class="c1"># 输出: Human
</span><span class="n">person</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">species</span><span class="p">)</span>   <span class="c1"># 输出: Human
</span></code></pre></div></div>

<hr />

<h4 id="1024-类方法">10.2.4 类方法</h4>

<p>类中的函数称作方法<br />
类方法用 <code class="language-plaintext highlighter-rouge">@classmethod</code> 装饰器定义，第一个参数为 <code class="language-plaintext highlighter-rouge">cls</code>，表示类本身。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">species</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Human</span><span class="sh">"</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">set_species</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">species</span><span class="p">):</span>
        <span class="n">cls</span><span class="p">.</span><span class="n">species</span> <span class="o">=</span> <span class="n">species</span>

<span class="n">MyClass</span><span class="p">.</span><span class="nf">set_species</span><span class="p">(</span><span class="sh">"</span><span class="s">SuperHuman</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">MyClass</span><span class="p">.</span><span class="n">species</span><span class="p">)</span>  <span class="c1"># 输出: SuperHuman
</span></code></pre></div></div>

<hr />

<h4 id="1025-静态方法">10.2.5 静态方法</h4>

<p>静态方法不依赖类或实例，使用 <code class="language-plaintext highlighter-rouge">@staticmethod</code> 装饰器定义。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="nf">print</span><span class="p">(</span><span class="n">MyClass</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># 输出: 5
</span></code></pre></div></div>

<hr />

<h3 id="103-特殊方法魔法方法">10.3. 特殊方法（魔法方法）</h3>

<h4 id="1031-__init__-初始化方法">10.3.1 <code class="language-plaintext highlighter-rouge">__init__</code>: 初始化方法</h4>

<p>在创建对象时自动调用，用于初始化实例属性。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</code></pre></div></div>

<h4 id="1032-__str__-字符串表示">10.3.2 <code class="language-plaintext highlighter-rouge">__str__</code>: 字符串表示</h4>

<p>用于定义类的字符串表示。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">My name is </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">.</span><span class="sh">"</span>

<span class="n">person</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>  <span class="c1"># 输出: My name is Alice.
</span></code></pre></div></div>

<h4 id="1033-运算符重载">10.3.3 运算符重载</h4>

<p>通过重写魔法方法，可以改变对象的运算行为。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="nc">Point</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>

<span class="n">p1</span> <span class="o">=</span> <span class="nc">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="nc">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span><span class="p">)</span>  <span class="c1"># 输出: (4, 6)
</span></code></pre></div></div>

<hr />

<h3 id="104-继承与多态">10.4. 继承与多态</h3>

<h4 id="1041-单继承">10.4.1 单继承</h4>

<p>子类继承父类的属性和方法。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Parent</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sh">"</span><span class="s">Hello from Parent</span><span class="sh">"</span>

<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">child</span> <span class="o">=</span> <span class="nc">Child</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">child</span><span class="p">.</span><span class="nf">greet</span><span class="p">())</span>  <span class="c1"># 输出: Hello from Parent
</span></code></pre></div></div>

<h4 id="1042-方法重写">10.4.2 方法重写</h4>

<p>子类可以重写父类的方法。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Parent</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sh">"</span><span class="s">Hello from Parent</span><span class="sh">"</span>

<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sh">"</span><span class="s">Hello from Child</span><span class="sh">"</span>

<span class="n">child</span> <span class="o">=</span> <span class="nc">Child</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">child</span><span class="p">.</span><span class="nf">greet</span><span class="p">())</span>  <span class="c1"># 输出: Hello from Child
</span></code></pre></div></div>

<h4 id="1043-多继承">10.4.3 多继承</h4>

<p>一个类可以继承多个父类。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method_a</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sh">"</span><span class="s">Method from A</span><span class="sh">"</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method_b</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sh">"</span><span class="s">Method from B</span><span class="sh">"</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">c</span> <span class="o">=</span> <span class="nc">C</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="nf">method_a</span><span class="p">())</span>  <span class="c1"># 输出: Method from A
</span><span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="nf">method_b</span><span class="p">())</span>  <span class="c1"># 输出: Method from B
</span></code></pre></div></div>

<hr />

<h3 id="105-属性和方法的访问控制">10.5. 属性和方法的访问控制</h3>

<h4 id="1051-公有属性">10.5.1 公有属性</h4>

<p>Python 中的属性默认是公有的，直接访问即可。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>  <span class="c1"># 公有属性
</span>
<span class="n">obj</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># 输出: Alice
</span></code></pre></div></div>

<h4 id="1052-私有属性">10.5.2 私有属性</h4>

<p>通过在属性名前加双下划线 <code class="language-plaintext highlighter-rouge">__</code> 定义私有属性。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>  <span class="c1"># 私有属性
</span>
    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">__name</span>

<span class="n">obj</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="nf">get_name</span><span class="p">())</span>  <span class="c1"># 输出: Alice
</span></code></pre></div></div>

<hr />

<h3 id="106-类的高级操作">10.6. 类的高级操作</h3>

<h4 id="1061-类的动态属性">10.6.1 类的动态属性</h4>

<p>可以动态地为类或对象添加属性。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="n">obj</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">()</span>
<span class="n">obj</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span>  <span class="c1"># 动态添加属性
</span><span class="nf">print</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>     <span class="c1"># 输出: Alice
</span></code></pre></div></div>

<h4 id="1062-property-装饰器">10.6.2 <code class="language-plaintext highlighter-rouge">@property</code> 装饰器</h4>

<p>将方法转换为属性，使其可以像访问变量一样使用。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">__name</span>

    <span class="nd">@name.setter</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">value</span>

<span class="n">person</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># 输出: Alice
</span><span class="n">person</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Bob</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># 输出: Bob
</span></code></pre></div></div>

<h4 id="1063-使用-__slots__-限制属性">10.6.3 使用 <code class="language-plaintext highlighter-rouge">__slots__</code> 限制属性</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">age</span><span class="sh">'</span><span class="p">]</span>

<span class="n">obj</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="p">()</span>
<span class="n">obj</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span>
<span class="n">obj</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">25</span>
<span class="c1"># obj.gender = "Female"  # 会报错
</span></code></pre></div></div>

<hr />

<h2 id="11文件"><strong>11.文件</strong></h2>
<h3 id="111-打开文件">11.1. 打开文件</h3>

<p>open() 函数语法：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">buffering</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">closefd</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">opener</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th><strong>参数</strong></th>
      <th><strong>含义</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">file</code></td>
      <td>文件路径</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mode</code></td>
      <td>文件打开模式（见下文）</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">buffering</code></td>
      <td>控制缓冲区。<code class="language-plaintext highlighter-rouge">0</code> 表示无缓冲，<code class="language-plaintext highlighter-rouge">1</code> 表示行缓冲，<code class="language-plaintext highlighter-rouge">&gt;1</code> 表示缓冲区大小。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">encoding</code></td>
      <td>文本模式下的编码方式（如 <code class="language-plaintext highlighter-rouge">utf-8</code>）</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">errors</code></td>
      <td>错误处理方式：<code class="language-plaintext highlighter-rouge">strict</code>、<code class="language-plaintext highlighter-rouge">ignore</code> 等</td>
    </tr>
  </tbody>
</table>

<h4 id="文件模式">文件模式</h4>

<table>
  <thead>
    <tr>
      <th><strong>模式</strong></th>
      <th><strong>含义</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">'r'</code></td>
      <td>以只读模式打开文件（默认）。文件不存在会报错。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">'w'</code></td>
      <td>以写入模式打开文件，清空原内容。文件不存在会创建。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">'a'</code></td>
      <td>以追加模式打开文件。文件不存在会创建。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">'b'</code></td>
      <td>以二进制模式打开文件。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">'t'</code></td>
      <td>以文本模式打开文件（默认）。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">'x'</code></td>
      <td>创建文件并写入，若文件已存在则报错。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">'+'</code></td>
      <td>可读可写模式（与 <code class="language-plaintext highlighter-rouge">'r'</code>、<code class="language-plaintext highlighter-rouge">'w'</code>、<code class="language-plaintext highlighter-rouge">'a'</code> 配合使用）。</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="112-文件读取">11.2. 文件读取</h3>

<h4 id="读取整个文件内容read">读取整个文件内容：read()</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="按行读取readline-和-readlines">按行读取：readline() 和 readlines()</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">readline()</code>：一次读取一行。</li>
  <li><code class="language-plaintext highlighter-rouge">readlines()</code>：读取所有行并返回列表。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="c1"># 一次读取一行
</span>    <span class="n">line</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">readline</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    
    <span class="c1"># 读取所有行
</span>    <span class="n">lines</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="迭代器读取">迭代器读取</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">file</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">())</span>  <span class="c1"># 去除末尾换行符
</span></code></pre></div></div>

<hr />

<h3 id="113-文件写入">11.3. 文件写入</h3>

<h4 id="写入字符串write">写入字符串：write()</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello, World!</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">Python file operations.</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="写入多行writelines">写入多行：writelines()</h4>

<p><code class="language-plaintext highlighter-rouge">writelines()</code> 接受一个字符串列表，将其逐行写入文件。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">First line</span><span class="se">\n</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Second line</span><span class="se">\n</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Third line</span><span class="se">\n</span><span class="sh">"</span><span class="p">]</span>
<span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">writelines</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="114-文件追加">11.4. 文件追加</h3>

<h4 id="追加内容write">追加内容：write()</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">This line is appended.</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="115-文件定位与操作">11.5. 文件定位与操作</h3>

<h4 id="获取文件当前位置tell">获取文件当前位置：<code class="language-plaintext highlighter-rouge">tell()</code></h4>

<p>返回当前文件指针的位置（字节数）。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="nb">file</span><span class="p">.</span><span class="nf">tell</span><span class="p">())</span>
</code></pre></div></div>

<h4 id="移动文件指针seek">移动文件指针：<code class="language-plaintext highlighter-rouge">seek()</code></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">seek</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># 将指针移动到第 5 个字节
</span>    <span class="nf">print</span><span class="p">(</span><span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">())</span>  <span class="c1"># 从新位置开始读取
</span></code></pre></div></div>

<hr />

<h3 id="116-文件关闭">11.6. 文件关闭</h3>

<ul>
  <li><strong>手动关闭</strong>：file.close()。</li>
  <li><strong>上下文管理器</strong>：with open() 会自动关闭文件。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">file</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span>
<span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
<span class="nb">file</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>  <span class="c1"># 手动关闭文件
</span></code></pre></div></div>

<p>推荐使用上下文管理器：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
<span class="c1"># 文件已自动关闭
</span></code></pre></div></div>

<hr />

<h3 id="117-文件检测和操作模块">11.7. 文件检测和操作模块</h3>

<h4 id="os-模块">os 模块</h4>

<p>提供文件路径和操作功能。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>

<span class="c1"># 判断文件是否存在
</span><span class="nf">print</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">))</span>

<span class="c1"># 删除文件
</span><span class="n">os</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="sh">'</span><span class="s">example.txt</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># 重命名文件
</span><span class="n">os</span><span class="p">.</span><span class="nf">rename</span><span class="p">(</span><span class="sh">'</span><span class="s">old_name.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">new_name.txt</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="shutil-模块">shutil 模块</h4>

<p>用于高级文件操作。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">shutil</span>

<span class="c1"># 复制文件
</span><span class="n">shutil</span><span class="p">.</span><span class="nf">copy</span><span class="p">(</span><span class="sh">'</span><span class="s">source.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">destination.txt</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># 移动文件
</span><span class="n">shutil</span><span class="p">.</span><span class="nf">move</span><span class="p">(</span><span class="sh">'</span><span class="s">source.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">new_directory/</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="118-二进制文件操作">11.8. 二进制文件操作</h3>

<p>处理非文本文件（如图片、音频）。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 读取二进制文件
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">image.jpg</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">rb</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>

<span class="c1"># 写入二进制文件
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">output.jpg</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">wb</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="119-文件异常处理">11.9. 文件异常处理</h3>

<p>通过 try…except 捕获文件操作异常。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">nonexistent.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
<span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">File not found!</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="n">PermissionError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Permission denied!</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="1110-高级功能临时文件">11.10. 高级功能：临时文件</h3>

<p>使用 <code class="language-plaintext highlighter-rouge">tempfile</code> 模块创建临时文件。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">tempfile</span>

<span class="c1"># 创建临时文件
</span><span class="k">with</span> <span class="n">tempfile</span><span class="p">.</span><span class="nc">TemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="sh">'</span><span class="s">w+t</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_file</span><span class="p">:</span>
    <span class="n">temp_file</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">Temporary data</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">temp_file</span><span class="p">.</span><span class="nf">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">temp_file</span><span class="p">.</span><span class="nf">read</span><span class="p">())</span>  <span class="c1"># 输出: Temporary data
</span></code></pre></div></div>

<hr />

<h2 id="12异常"><strong>12.异常</strong></h2>
<h3 id="121-异常的基本概念">12.1. 异常的基本概念</h3>

<h4 id="什么是异常">什么是异常？</h4>

<ul>
  <li><strong>异常 (Exception)</strong> 是程序运行时发生的错误事件，它会中断正常的程序流程。</li>
  <li>常见异常类型：
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ZeroDivisionError</code>：除数为零。</li>
      <li><code class="language-plaintext highlighter-rouge">IndexError</code>：索引超出范围。</li>
      <li><code class="language-plaintext highlighter-rouge">KeyError</code>：访问字典中不存在的键。</li>
      <li><code class="language-plaintext highlighter-rouge">FileNotFoundError</code>：文件未找到。</li>
      <li><code class="language-plaintext highlighter-rouge">ValueError</code>：值类型不正确。</li>
    </ul>
  </li>
</ul>

<h4 id="异常的基本结构">异常的基本结构</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="c1"># 可能发生异常的代码
</span><span class="k">except</span><span class="p">:</span>
    <span class="c1"># 异常发生时执行的代码
</span><span class="k">else</span><span class="p">:</span>
    <span class="c1"># 没有异常时执行的代码
</span><span class="k">finally</span><span class="p">:</span>
    <span class="c1"># 无论是否发生异常，都会执行的代码
</span></code></pre></div></div>

<hr />

<h3 id="122-异常捕获tryexcept">12.2. 异常捕获：<code class="language-plaintext highlighter-rouge">try...except</code></h3>

<h4 id="基本用法">基本用法</h4>

<p>捕获异常并处理：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">/</span> <span class="mi">0</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">除数不能为零！</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="捕获多个异常">捕获多个异常</h4>

<p>可以通过元组捕获多个异常：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="sh">"</span><span class="s">abc</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">except </span><span class="p">(</span><span class="nb">ValueError</span><span class="p">,</span> <span class="nb">TypeError</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">发生值错误或类型错误！</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="使用通用异常类">使用通用异常类</h4>

<p>捕获所有异常：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">/</span> <span class="mi">0</span>
<span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">发生异常：</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="123-异常处理的其他块">12.3. 异常处理的其他块</h3>

<h4 id="else-块"><code class="language-plaintext highlighter-rouge">else</code> 块</h4>

<p>当 <code class="language-plaintext highlighter-rouge">try</code> 块没有发生异常时执行：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">/</span> <span class="mi">2</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">除数不能为零！</span><span class="sh">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">计算成功，结果为：</span><span class="sh">"</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="finally-块"><code class="language-plaintext highlighter-rouge">finally</code> 块</h4>

<p>无论是否发生异常，都会执行：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="nb">file</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">example.txt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">文件未找到！</span><span class="sh">"</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">操作结束，无论是否发生异常。</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="124-自定义异常">12.4. 自定义异常</h3>

<p>可以通过继承 <code class="language-plaintext highlighter-rouge">Exception</code> 类创建自定义异常：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">CustomError</span><span class="p">(</span><span class="nb">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">raise</span> <span class="nc">CustomError</span><span class="p">(</span><span class="sh">"</span><span class="s">这是一个自定义异常！</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="n">CustomError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">捕获自定义异常：</span><span class="si">{</span><span class="n">e</span><span class="p">.</span><span class="n">message</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="125-捕获异常时获取详细信息">12.5. 捕获异常时获取详细信息</h3>

<p>可以使用异常对象获取具体的错误信息：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="sh">"</span><span class="s">abc</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">发生异常：</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="126-嵌套异常处理">12.6. 嵌套异常处理</h3>

<p>可以嵌套多个 <code class="language-plaintext highlighter-rouge">try...except</code> 块：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">/</span> <span class="mi">0</span>
    <span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">内部异常处理：除数不能为零！</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">raise</span>  <span class="c1"># 重新抛出异常
</span><span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">外部捕获异常：</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="127-异常的抛出raise">12.7. 异常的抛出：<code class="language-plaintext highlighter-rouge">raise</code></h3>

<h4 id="手动抛出异常">手动抛出异常</h4>

<p>可以通过 <code class="language-plaintext highlighter-rouge">raise</code> 手动抛出异常：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">check_age</span><span class="p">(</span><span class="n">age</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">年龄必须大于 18！</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="sh">"</span><span class="s">年龄合格</span><span class="sh">"</span>

<span class="k">try</span><span class="p">:</span>
    <span class="nf">check_age</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">错误：</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="重新抛出异常">重新抛出异常</h4>

<p>在 <code class="language-plaintext highlighter-rouge">except</code> 块中重新抛出异常：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">捕获异常后重新抛出！</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">raise</span>
</code></pre></div></div>

<hr />

<h3 id="128-使用-with-语句的上下文管理">12.8. 使用 <code class="language-plaintext highlighter-rouge">with</code> 语句的上下文管理</h3>

<p><code class="language-plaintext highlighter-rouge">with</code> 语句可以自动处理异常和资源释放：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">example.txt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
<span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">文件未找到！</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="129-异常链__cause__-和-__context__">12.9. 异常链：<code class="language-plaintext highlighter-rouge">__cause__</code> 和 <code class="language-plaintext highlighter-rouge">__context__</code></h3>

<p>当一个异常由另一个异常引发时，可以通过异常链追踪：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="sh">"</span><span class="s">abc</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nc">TypeError</span><span class="p">(</span><span class="sh">"</span><span class="s">类型转换失败！</span><span class="sh">"</span><span class="p">)</span> <span class="k">from</span> <span class="n">e</span>
<span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">异常链：</span><span class="si">{</span><span class="n">e</span><span class="p">.</span><span class="n">__cause__</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="1210-常见异常类型">12.10. 常见异常类型</h3>

<table>
  <thead>
    <tr>
      <th><strong>异常类型</strong></th>
      <th><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ZeroDivisionError</code></td>
      <td>除以零错误。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IndexError</code></td>
      <td>序列索引超出范围。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">KeyError</code></td>
      <td>字典中没有指定的键。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ValueError</code></td>
      <td>传递的参数类型正确，但值不合适。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">TypeError</code></td>
      <td>操作或函数应用于不适当的类型。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FileNotFoundError</code></td>
      <td>文件未找到错误。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IOError</code></td>
      <td>输入输出操作失败。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AttributeError</code></td>
      <td>尝试访问对象中不存在的属性。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ImportError</code></td>
      <td>模块导入失败。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StopIteration</code></td>
      <td>迭代器没有更多值时抛出的异常。</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="1211-异常处理的最佳实践">12.11. 异常处理的最佳实践</h3>

<ol>
  <li>
    <p><strong>避免使用通用异常捕获</strong></p>

    <ul>
      <li>使用特定的异常类型以提高代码的可读性。</li>
    </ul>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">/</span> <span class="mi">0</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">除数不能为零！</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<ol>
  <li>
    <p><strong>始终清理资源</strong></p>

    <ul>
      <li>使用 <code class="language-plaintext highlighter-rouge">finally</code> 或 <code class="language-plaintext highlighter-rouge">with</code> 确保资源释放。</li>
    </ul>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="nb">file</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">example.txt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
</code></pre></div></div>

<ol>
  <li>
    <p><strong>添加适当的日志记录</strong></p>

    <ul>
      <li>使用 <code class="language-plaintext highlighter-rouge">logging</code> 模块记录异常。</li>
    </ul>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">logging</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">/</span> <span class="mi">0</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">logging</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sh">"</span><span class="s">发生异常：%s</span><span class="sh">"</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div></div>

<ol>
  <li>
    <p><strong>避免过多嵌套</strong></p>

    <ul>
      <li>简化异常处理代码，提高可维护性。</li>
    </ul>
  </li>
  <li>
    <p><strong>自定义异常类</strong></p>

    <ul>
      <li>使用清晰的异常名称，提高代码的可读性和可调试性。</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="13第三方库"><strong>13.第三方库</strong></h2>
<h3 id="131-什么是第三方库">13.1. 什么是第三方库？</h3>

<ul>
  <li><strong>第三方库</strong> 是指非 Python 标准库中的模块或包，由社区开发和维护。</li>
  <li>例如：<code class="language-plaintext highlighter-rouge">numpy</code>（数值计算）、<code class="language-plaintext highlighter-rouge">pandas</code>（数据分析）、<code class="language-plaintext highlighter-rouge">requests</code>（网络请求）、<code class="language-plaintext highlighter-rouge">matplotlib</code>（数据可视化）等。</li>
</ul>

<hr />

<h3 id="132-第三方库的安装">13.2. 第三方库的安装</h3>

<h4 id="安装工具pip">安装工具：pip</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">pip</code> 是 Python 的包管理工具，用于安装和管理第三方库。</li>
</ul>

<h4 id="安装第三方库">安装第三方库</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>库名
</code></pre></div></div>

<p>例如，安装 requests：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>requests
</code></pre></div></div>

<h4 id="指定版本安装">指定版本安装</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>库名<span class="o">==</span>版本号
</code></pre></div></div>

<p>例如，安装 <code class="language-plaintext highlighter-rouge">numpy</code> 的 1.21.0 版本：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span><span class="nv">numpy</span><span class="o">==</span>1.21.0
</code></pre></div></div>

<h4 id="升级库">升级库</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">--upgrade</span> 库名
</code></pre></div></div>

<h4 id="卸载库">卸载库</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip uninstall 库名
</code></pre></div></div>

<h4 id="列出已安装的库">列出已安装的库</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip list
</code></pre></div></div>

<h4 id="查看特定库的信息">查看特定库的信息</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip show 库名
</code></pre></div></div>

<hr />

<h3 id="133-第三方库的导入与使用">13.3. 第三方库的导入与使用</h3>

<h4 id="导入库">导入库</h4>

<p>使用 <code class="language-plaintext highlighter-rouge">import</code> 关键字导入库：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span>  <span class="c1"># 导入整个库
</span><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>  <span class="c1"># 使用别名
</span><span class="kn">from</span> <span class="n">math</span> <span class="kn">import</span> <span class="n">sqrt</span>  <span class="c1"># 从模块中导入特定函数
</span></code></pre></div></div>

<h4 id="检查是否安装">检查是否安装</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="n">numpy</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">库已安装</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">ImportError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">库未安装</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="134-管理项目依赖">13.4. 管理项目依赖</h3>

<h4 id="生成依赖文件requirementstxt">生成依赖文件：requirements.txt</h4>

<p>开发项目时可以记录所有依赖库及其版本：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip freeze <span class="o">&gt;</span> requirements.txt
</code></pre></div></div>

<p>生成的 <code class="language-plaintext highlighter-rouge">requirements.txt</code> 内容可能如下：</p>

<div class="language-makefile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">numpy</span><span class="o">==</span>1.21.0
<span class="nv">pandas</span><span class="o">==</span>1.3.3
<span class="nv">requests</span><span class="o">==</span>2.26.0
</code></pre></div></div>

<h4 id="通过依赖文件安装库">通过依赖文件安装库</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
</code></pre></div></div>

<hr />

<h3 id="135-常用第三方库及示例">13.5. 常用第三方库及示例</h3>

<h4 id="1-数据处理numpy">(1) 数据处理：numpy</h4>

<ul>
  <li>用于数值计算和矩阵操作。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="nf">mean</span><span class="p">())</span>  <span class="c1"># 求平均值
</span></code></pre></div></div>

<h4 id="2-数据分析pandas">(2) 数据分析：pandas</h4>

<ul>
  <li>用于数据清洗和分析。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">Name</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="sh">'</span><span class="s">Alice</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">Bob</span><span class="sh">'</span><span class="p">],</span> <span class="sh">'</span><span class="s">Age</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">]}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="nf">head</span><span class="p">())</span>  <span class="c1"># 查看数据表的前几行
</span></code></pre></div></div>

<h4 id="3-网络请求requests">(3) 网络请求：requests</h4>

<ul>
  <li>用于发送 HTTP 请求。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">requests</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">https://api.github.com</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>  <span class="c1"># 查看状态码
</span><span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">json</span><span class="p">())</span>  <span class="c1"># 解析 JSON 响应
</span></code></pre></div></div>

<h4 id="4-数据可视化matplotlib">(4) 数据可视化：matplotlib</h4>

<ul>
  <li>用于生成图表。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="5-机器学习scikit-learn">(5) 机器学习：scikit-learn</h4>

<ul>
  <li>提供多种机器学习算法。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">model</span> <span class="o">=</span> <span class="nc">LinearRegression</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">model</span><span class="p">.</span><span class="nf">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="nf">predict</span><span class="p">([[</span><span class="mi">4</span><span class="p">]]))</span>  <span class="c1"># 预测值
</span></code></pre></div></div>

<h4 id="6-爬虫工具beautifulsoup">(6) 爬虫工具：BeautifulSoup</h4>

<ul>
  <li>用于解析 HTML 页面。</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="n">requests</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">https://example.com</span><span class="sh">"</span><span class="p">)</span>
<span class="n">soup</span> <span class="o">=</span> <span class="nc">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="sh">'</span><span class="s">html.parser</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>  <span class="c1"># 打印页面标题
</span></code></pre></div></div>

<hr />

<h3 id="136-虚拟环境的使用">13.6. 虚拟环境的使用</h3>

<p>虚拟环境可以隔离项目依赖，防止不同项目之间的库版本冲突。</p>

<h4 id="创建虚拟环境">创建虚拟环境</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> venv 环境名
</code></pre></div></div>

<h4 id="激活虚拟环境">激活虚拟环境</h4>

<ul>
  <li>Windows:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>环境名<span class="se">\S</span>cripts<span class="se">\a</span>ctivate
</code></pre></div></div>

<ul>
  <li>macOS/Linux:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>环境名/bin/activate
</code></pre></div></div>

<h4 id="退出虚拟环境">退出虚拟环境</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deactivate
</code></pre></div></div>

<hr />

<h3 id="137-第三方库的开发与发布">13.7. 第三方库的开发与发布</h3>

<h4 id="开发库">开发库</h4>

<ol>
  <li>编写模块代码，组织功能。</li>
  <li>创建 <code class="language-plaintext highlighter-rouge">setup.py</code> 文件定义库信息。</li>
</ol>

<p>示例 <code class="language-plaintext highlighter-rouge">setup.py</code>：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages</span>

<span class="nf">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_package</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="sh">"</span><span class="s">0.1</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">packages</span><span class="o">=</span><span class="nf">find_packages</span><span class="p">(),</span>
    <span class="n">install_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="sh">"</span><span class="s">numpy</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">pandas</span><span class="sh">"</span>
    <span class="p">],</span>
<span class="p">)</span>
</code></pre></div></div>

<h4 id="发布库">发布库</h4>

<ul>
  <li>将库上传到 <a href="https://pypi.org/">PyPI</a>。</li>
</ul>

<ol>
  <li>打包项目：</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python setup.py sdist
</code></pre></div></div>

<ol>
  <li>安装 <code class="language-plaintext highlighter-rouge">twine</code>：</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>twine
</code></pre></div></div>

<ol>
  <li>上传项目：</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>twine upload dist/<span class="k">*</span>
</code></pre></div></div>

<hr />

<h3 id="138-常见问题及解决方案">13.8. 常见问题及解决方案</h3>

<h4 id="1-安装失败">(1) 安装失败</h4>

<ul>
  <li>错误信息：<code class="language-plaintext highlighter-rouge">No matching distribution found</code>
    <ul>
      <li>解决方案：检查库名称是否正确，或升级 <code class="language-plaintext highlighter-rouge">pip</code>：</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">--upgrade</span> pip
</code></pre></div></div>

<h4 id="2-版本冲突">(2) 版本冲突</h4>

<ul>
  <li>错误信息：<code class="language-plaintext highlighter-rouge">Cannot install package due to conflicting versions</code>
    <ul>
      <li>解决方案：使用虚拟环境或指定兼容版本。</li>
    </ul>
  </li>
</ul>

<h4 id="3-运行时找不到库">(3) 运行时找不到库</h4>

<ul>
  <li>错误信息：<code class="language-plaintext highlighter-rouge">ModuleNotFoundError</code>
    <ul>
      <li>解决方案：检查库是否已正确安装。</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="14测试"><strong>14.测试</strong></h2>
<h3 id="141-python-测试的分类">14.1. Python 测试的分类</h3>

<ul>
  <li><strong>单元测试（Unit Test）</strong>：测试单个功能或模块。</li>
  <li><strong>集成测试（Integration Test）</strong>：测试多个模块的交互是否正常。</li>
  <li><strong>功能测试（Functional Test）</strong>：模拟用户行为以验证系统是否符合预期。</li>
  <li><strong>性能测试（Performance Test）</strong>：评估代码在特定条件下的性能表现。</li>
</ul>

<hr />

<h3 id="142-测试框架的选择">14.2. 测试框架的选择</h3>

<p>Python 提供多种测试框架，以下是常用框架及其特点：</p>

<h4 id="1内置框架unittest">（1）内置框架：unittest</h4>

<ul>
  <li>Python 内置的测试框架。</li>
  <li>适合单元测试，支持测试套件和断言。</li>
</ul>

<h4 id="2第三方框架">（2）第三方框架</h4>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">pytest</code></strong>：功能强大，支持插件，简洁易用。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">nose2</code></strong>：<code class="language-plaintext highlighter-rouge">unittest</code> 的扩展，支持发现和运行测试。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">tox</code></strong>：用于多环境测试。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">hypothesis</code></strong>：基于属性的测试，用于生成测试用例。</li>
</ul>

<hr />

<h3 id="143-使用-unittest-测试">14.3. 使用 unittest 测试</h3>

<h4 id="1基本用法">（1）基本用法</h4>

<p>创建一个测试文件，使用 <code class="language-plaintext highlighter-rouge">unittest.TestCase</code> 定义测试类和测试方法：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">unittest</span>

<span class="c1"># 待测试代码
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="c1"># 测试类
</span><span class="k">class</span> <span class="nc">TestMathFunctions</span><span class="p">(</span><span class="n">unittest</span><span class="p">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_add</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertEqual</span><span class="p">(</span><span class="nf">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertEqual</span><span class="p">(</span><span class="nf">add</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertNotEqual</span><span class="p">(</span><span class="nf">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1"># 运行测试
</span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">unittest</span><span class="p">.</span><span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<ul>
  <li><strong>断言方法</strong>：
    <ul>
      <li><code class="language-plaintext highlighter-rouge">assertEqual(a, b)</code>：断言 <code class="language-plaintext highlighter-rouge">a == b</code>。</li>
      <li><code class="language-plaintext highlighter-rouge">assertNotEqual(a, b)</code>：断言 <code class="language-plaintext highlighter-rouge">a != b</code>。</li>
      <li><code class="language-plaintext highlighter-rouge">assertTrue(x)</code> / <code class="language-plaintext highlighter-rouge">assertFalse(x)</code>：断言布尔值。</li>
      <li><code class="language-plaintext highlighter-rouge">assertRaises(Exception, func, *args)</code>：断言代码抛出指定异常。</li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="2测试套件">（2）测试套件</h4>

<p>使用测试套件将多个测试组合在一起运行：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">suite</span><span class="p">():</span>
    <span class="n">suite</span> <span class="o">=</span> <span class="n">unittest</span><span class="p">.</span><span class="nc">TestSuite</span><span class="p">()</span>
    <span class="n">suite</span><span class="p">.</span><span class="nf">addTest</span><span class="p">(</span><span class="nc">TestMathFunctions</span><span class="p">(</span><span class="sh">"</span><span class="s">test_add</span><span class="sh">"</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">suite</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="n">unittest</span><span class="p">.</span><span class="nc">TextTestRunner</span><span class="p">()</span>
    <span class="n">runner</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="nf">suite</span><span class="p">())</span>
</code></pre></div></div>

<hr />

<h4 id="3组织测试">（3）组织测试</h4>

<p>将测试文件放置在单独的目录（如 <code class="language-plaintext highlighter-rouge">tests</code>），通过 <code class="language-plaintext highlighter-rouge">unittest</code> 自动发现并运行测试：</p>

<p>目录结构：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>project/
├── my_module.py
└── tests/
    ├── test_my_module.py
</code></pre></div></div>

<p>运行命令：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> unittest discover <span class="nt">-s</span> tests
</code></pre></div></div>

<hr />

<h3 id="144-使用-pytest-测试">14.4. 使用 pytest 测试</h3>

<h4 id="1基本用法-1">（1）基本用法</h4>

<p><code class="language-plaintext highlighter-rouge">pytest</code> 具有更简洁的语法：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># test_math.py
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="k">def</span> <span class="nf">test_add</span><span class="p">():</span>
    <span class="k">assert</span> <span class="nf">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span>
    <span class="k">assert</span> <span class="nf">add</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></div>

<p>运行测试：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest
</code></pre></div></div>

<hr />

<h4 id="2测试失败时的调试">（2）测试失败时的调试</h4>

<ul>
  <li>如果测试失败，<code class="language-plaintext highlighter-rouge">pytest</code> 会自动显示详细的错误信息：</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>assert 5 == 6
</code></pre></div></div>

<ul>
  <li>使用 <code class="language-plaintext highlighter-rouge">-v</code> 参数查看详细信息：</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest -v
</code></pre></div></div>

<hr />

<h4 id="3使用参数化">（3）使用参数化</h4>

<p><code class="language-plaintext highlighter-rouge">pytest</code> 支持参数化测试，用于测试多个输入组合：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pytest</span>

<span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="sh">"</span><span class="s">a, b, expected</span><span class="sh">"</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="p">])</span>
<span class="k">def</span> <span class="nf">test_add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>
</code></pre></div></div>

<hr />

<h4 id="4运行特定测试">（4）运行特定测试</h4>

<p>通过关键字运行某个测试：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest <span class="nt">-k</span> <span class="s2">"test_add"</span>
</code></pre></div></div>

<hr />

<h3 id="145-测试覆盖率">14.5. 测试覆盖率</h3>

<h4 id="安装-coverage-工具">安装 coverage 工具</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>coverage
</code></pre></div></div>

<h4 id="生成覆盖率报告">生成覆盖率报告</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>coverage run <span class="nt">-m</span> pytest
coverage report
</code></pre></div></div>

<p>生成 HTML 报告：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>coverage html
</code></pre></div></div>

<hr />

<h3 id="146-mock-测试">14.6. Mock 测试</h3>

<h4 id="基本用法-1">基本用法</h4>

<p><code class="language-plaintext highlighter-rouge">unittest.mock</code> 模块可用于模拟依赖对象或外部服务：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">unittest.mock</span> <span class="kn">import</span> <span class="n">MagicMock</span>

<span class="k">def</span> <span class="nf">fetch_data</span><span class="p">(</span><span class="n">api_client</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">api_client</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">/data</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_fetch_data</span><span class="p">():</span>
    <span class="n">mock_api_client</span> <span class="o">=</span> <span class="nc">MagicMock</span><span class="p">()</span>
    <span class="n">mock_api_client</span><span class="p">.</span><span class="n">get</span><span class="p">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">}</span>

    <span class="n">result</span> <span class="o">=</span> <span class="nf">fetch_data</span><span class="p">(</span><span class="n">mock_api_client</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="p">{</span><span class="sh">"</span><span class="s">key</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">value</span><span class="sh">"</span><span class="p">}</span>
</code></pre></div></div>

<hr />

<h3 id="147-测试异常和边界情况">14.7. 测试异常和边界情况</h3>

<h4 id="断言异常">断言异常</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pytest</span>

<span class="k">def</span> <span class="nf">divide</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">Cannot divide by zero</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>

<span class="k">def</span> <span class="nf">test_divide</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="p">.</span><span class="nf">raises</span><span class="p">(</span><span class="nb">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sh">"</span><span class="s">Cannot divide by zero</span><span class="sh">"</span><span class="p">):</span>
        <span class="nf">divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="148-性能测试">14.8. 性能测试</h3>

<h4 id="测量性能">测量性能</h4>

<p>使用 <code class="language-plaintext highlighter-rouge">timeit</code> 模块测试代码运行时间：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">timeit</span>

<span class="k">def</span> <span class="nf">slow_function</span><span class="p">():</span>
    <span class="k">return</span> <span class="nf">sum</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">))</span>

<span class="n">execution_time</span> <span class="o">=</span> <span class="n">timeit</span><span class="p">.</span><span class="nf">timeit</span><span class="p">(</span><span class="n">slow_function</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Execution time: </span><span class="si">{</span><span class="n">execution_time</span><span class="si">}</span><span class="s"> seconds</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="149-自动化测试工具">14.9. 自动化测试工具</h3>

<h4 id="集成测试工具">集成测试工具</h4>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">tox</code></strong>：自动化测试多个 Python 环境。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">pytest</code> + CI</strong>：结合 CI/CD 工具（如 GitHub Actions）实现自动化测试。</li>
</ul>

<hr />

<h3 id="1410-测试最佳实践">14.10. 测试最佳实践</h3>

<ul>
  <li>使用虚拟环境确保依赖隔离。</li>
  <li>测试用例覆盖所有代码路径，包括边界条件。</li>
  <li>定期运行测试，确保代码稳定性。</li>
  <li>将测试集成到 CI/CD 流程中。</li>
</ul>

<hr />

<h1 id="六python项目">六.Python项目</h1>
 <!-- 显示页面内容 -->
        </div>
    </div>

    <footer class="footer">
    <p>Contact me via email: verumkeys@gmail.com</p >
    <p><i class="fa-brands fa-github"></i><a href="https://github.com/Verumkey" target="_blank"> Verumkey</a></p >
    <p>This website is a personal blog where I share my thoughts on technology, programming, and more. </P>
    <p>Stay tuned for interesting insights!</p ></p>
</footer>

</body>
</html>
